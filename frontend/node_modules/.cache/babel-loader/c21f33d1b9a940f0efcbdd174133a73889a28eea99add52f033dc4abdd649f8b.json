{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'ArchitecturePage',\n  data() {\n    return {\n      requirements: [],\n      selectedRequirement: '',\n      loading: false,\n      error: null\n    };\n  },\n  created() {\n    this.fetchRequirements();\n  },\n  methods: {\n    async fetchRequirements() {\n      this.loading = true;\n      this.error = null;\n      try {\n        const response = await axios.get('/api/requirements/list');\n        this.requirements = response.data;\n      } catch (err) {\n        console.error('Error fetching requirements:', err);\n        this.error = '无法加载需求列表';\n      } finally {\n        this.loading = false;\n      }\n    },\n    onRequirementChange() {\n      this.$emit('requirement-selected', this.selectedRequirement);\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","requirements","selectedRequirement","loading","error","created","fetchRequirements","methods","response","get","err","console","onRequirementChange","$emit"],"sources":["C:\\Users\\ASUS\\Desktop\\autochat\\frontend\\src\\views\\ArchitecturePage.vue"],"sourcesContent":["<template>\r\n    <div class=\"p-8\">\r\n        <!-- 需求选择和生成按钮 -->\r\n        <div class=\"flex items-center justify-between mb-6\">\r\n            <div class=\"flex items-center space-x-4\">\r\n                <div class=\"text-lg font-medium\">需求选择：</div>\r\n                <select v-model=\"selectedRequirement\"\r\n                    class=\"border border-gray-300 rounded-button px-4 py-2 min-w-[200px] focus:outline-none focus:ring-2 focus:ring-primary\"\r\n                    @change=\"onRequirementChange\">\r\n                    <option disabled value=\"\">请选择需求</option>\r\n                    <option v-for=\"req in requirements\" :key=\"req.id\" :value=\"req.id\">\r\n                        {{ req.name }} v{{ req.version }}\r\n                    </option>\r\n                </select>\r\n            </div>\r\n            <button id=\"generateBtn\"\r\n                class=\"px-6 py-2 bg-primary text-white !rounded-button hover:bg-blue-600 transition-colors\">\r\n                <i class=\"fas fa-magic mr-2\"></i>生成架构\r\n            </button>\r\n        </div>\r\n\r\n        <!-- 架构展示区域 -->\r\n        <div class=\"bg-white rounded-lg shadow p-6 mb-6\">\r\n            <div class=\"flex items-center justify-between mb-4\">\r\n                <div class=\"flex items-center\">\r\n                    <i class=\"fas fa-sitemap text-primary text-xl\"></i>\r\n                    <h3 class=\"ml-2 text-lg font-medium\">系统架构图</h3>\r\n                </div>\r\n                <div class=\"flex space-x-2\">\r\n                    <button class=\"px-4 py-2 border border-gray-300 !rounded-button\">\r\n                        <i class=\"fas fa-download mr-2\"></i>下载\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div id=\"architectureContainer\" class=\"architecture-diagram\">\r\n                <div class=\"text-center\">\r\n                    <i class=\"fas fa-sitemap text-4xl mb-2\"></i>\r\n                    <p>请选择需求并点击\"生成架构\"按钮</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 技术栈和模块划分 -->\r\n        <div class=\"grid grid-cols-2 gap-6\">\r\n            <!-- 技术栈 -->\r\n            <div class=\"bg-white rounded-lg shadow p-6\">\r\n                <div class=\"flex items-center mb-4\">\r\n                    <i class=\"fas fa-code-branch text-primary text-xl\"></i>\r\n                    <h3 class=\"ml-2 text-lg font-medium\">推荐技术栈</h3>\r\n                </div>\r\n                <div id=\"techStackContainer\" class=\"space-y-3\">\r\n                    <div class=\"text-center text-gray-500 py-10\">\r\n                        <i class=\"fas fa-cog text-4xl mb-2\"></i>\r\n                        <p>架构生成后将显示推荐技术栈</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- 模块划分 -->\r\n            <div class=\"bg-white rounded-lg shadow p-6\">\r\n                <div class=\"flex items-center mb-4\">\r\n                    <i class=\"fas fa-tasks text-primary text-xl\"></i>\r\n                    <h3 class=\"ml-2 text-lg font-medium\">模块划分</h3>\r\n                </div>\r\n                <div id=\"modulesContainer\" class=\"space-y-3\">\r\n                    <div class=\"text-center text-gray-500 py-10\">\r\n                        <i class=\"fas fa-project-diagram text-4xl mb-2\"></i>\r\n                        <p>架构生成后将显示模块划分</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n    name: 'ArchitecturePage',\r\n    data() {\r\n        return {\r\n            requirements: [],\r\n            selectedRequirement: '',\r\n            loading: false,\r\n            error: null\r\n        }\r\n    },\r\n    created() {\r\n        this.fetchRequirements();\r\n    },\r\n    methods: {\r\n        async fetchRequirements() {\r\n            this.loading = true;\r\n            this.error = null;\r\n            try {\r\n                const response = await axios.get('/api/requirements/list');\r\n                this.requirements = response.data;\r\n            } catch (err) {\r\n                console.error('Error fetching requirements:', err);\r\n                this.error = '无法加载需求列表';\r\n            } finally {\r\n                this.loading = false;\r\n            }\r\n        },\r\n        onRequirementChange() {\r\n            this.$emit('requirement-selected', this.selectedRequirement);\r\n        }\r\n    }\r\n}\r\n</script>"],"mappings":"AA6EA,OAAOA,KAAI,MAAO,OAAO;AACzB,eAAe;EACXC,IAAI,EAAE,kBAAkB;EACxBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,YAAY,EAAE,EAAE;MAChBC,mBAAmB,EAAE,EAAE;MACvBC,OAAO,EAAE,KAAK;MACdC,KAAK,EAAE;IACX;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,iBAAiB,CAAC,CAAC;EAC5B,CAAC;EACDC,OAAO,EAAE;IACL,MAAMD,iBAAiBA,CAAA,EAAG;MACtB,IAAI,CAACH,OAAM,GAAI,IAAI;MACnB,IAAI,CAACC,KAAI,GAAI,IAAI;MACjB,IAAI;QACA,MAAMI,QAAO,GAAI,MAAMV,KAAK,CAACW,GAAG,CAAC,wBAAwB,CAAC;QAC1D,IAAI,CAACR,YAAW,GAAIO,QAAQ,CAACR,IAAI;MACrC,EAAE,OAAOU,GAAG,EAAE;QACVC,OAAO,CAACP,KAAK,CAAC,8BAA8B,EAAEM,GAAG,CAAC;QAClD,IAAI,CAACN,KAAI,GAAI,UAAU;MAC3B,UAAU;QACN,IAAI,CAACD,OAAM,GAAI,KAAK;MACxB;IACJ,CAAC;IACDS,mBAAmBA,CAAA,EAAG;MAClB,IAAI,CAACC,KAAK,CAAC,sBAAsB,EAAE,IAAI,CAACX,mBAAmB,CAAC;IAChE;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}