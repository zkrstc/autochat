{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport * as _ from 'lodash-es';\nimport { greedyFAS } from './greedy-fas.js';\nexport { run, undo };\nfunction run(g) {\n  var fas = g.graph().acyclicer === 'greedy' ? greedyFAS(g, weightFn(g)) : dfsFAS(g);\n  _.forEach(fas, function (e) {\n    var label = g.edge(e);\n    g.removeEdge(e);\n    label.forwardName = e.name;\n    label.reversed = true;\n    g.setEdge(e.w, e.v, label, _.uniqueId('rev'));\n  });\n  function weightFn(g) {\n    return function (e) {\n      return g.edge(e).weight;\n    };\n  }\n}\nfunction dfsFAS(g) {\n  var fas = [];\n  var stack = {};\n  var visited = {};\n  function dfs(v) {\n    if (Object.prototype.hasOwnProperty.call(visited, v)) {\n      return;\n    }\n    visited[v] = true;\n    stack[v] = true;\n    _.forEach(g.outEdges(v), function (e) {\n      if (Object.prototype.hasOwnProperty.call(stack, e.w)) {\n        fas.push(e);\n      } else {\n        dfs(e.w);\n      }\n    });\n    delete stack[v];\n  }\n  _.forEach(g.nodes(), dfs);\n  return fas;\n}\nfunction undo(g) {\n  _.forEach(g.edges(), function (e) {\n    var label = g.edge(e);\n    if (label.reversed) {\n      g.removeEdge(e);\n      var forwardName = label.forwardName;\n      delete label.reversed;\n      delete label.forwardName;\n      g.setEdge(e.w, e.v, label, forwardName);\n    }\n  });\n}","map":{"version":3,"names":["_","greedyFAS","run","undo","g","fas","graph","acyclicer","weightFn","dfsFAS","forEach","e","label","edge","removeEdge","forwardName","name","reversed","setEdge","w","v","uniqueId","weight","stack","visited","dfs","Object","prototype","hasOwnProperty","call","outEdges","push","nodes","edges"],"sources":["C:/Users/ASUS/Desktop/autochat/frontend/node_modules/dagre-d3-es/src/dagre/acyclic.js"],"sourcesContent":["import * as _ from 'lodash-es';\nimport { greedyFAS } from './greedy-fas.js';\n\nexport { run, undo };\n\nfunction run(g) {\n  var fas = g.graph().acyclicer === 'greedy' ? greedyFAS(g, weightFn(g)) : dfsFAS(g);\n  _.forEach(fas, function (e) {\n    var label = g.edge(e);\n    g.removeEdge(e);\n    label.forwardName = e.name;\n    label.reversed = true;\n    g.setEdge(e.w, e.v, label, _.uniqueId('rev'));\n  });\n\n  function weightFn(g) {\n    return function (e) {\n      return g.edge(e).weight;\n    };\n  }\n}\n\nfunction dfsFAS(g) {\n  var fas = [];\n  var stack = {};\n  var visited = {};\n\n  function dfs(v) {\n    if (Object.prototype.hasOwnProperty.call(visited, v)) {\n      return;\n    }\n    visited[v] = true;\n    stack[v] = true;\n    _.forEach(g.outEdges(v), function (e) {\n      if (Object.prototype.hasOwnProperty.call(stack, e.w)) {\n        fas.push(e);\n      } else {\n        dfs(e.w);\n      }\n    });\n    delete stack[v];\n  }\n\n  _.forEach(g.nodes(), dfs);\n  return fas;\n}\n\nfunction undo(g) {\n  _.forEach(g.edges(), function (e) {\n    var label = g.edge(e);\n    if (label.reversed) {\n      g.removeEdge(e);\n\n      var forwardName = label.forwardName;\n      delete label.reversed;\n      delete label.forwardName;\n      g.setEdge(e.w, e.v, label, forwardName);\n    }\n  });\n}\n"],"mappings":";AAAA,OAAO,KAAKA,CAAC,MAAM,WAAW;AAC9B,SAASC,SAAS,QAAQ,iBAAiB;AAE3C,SAASC,GAAG,EAAEC,IAAI;AAElB,SAASD,GAAGA,CAACE,CAAC,EAAE;EACd,IAAIC,GAAG,GAAGD,CAAC,CAACE,KAAK,CAAC,CAAC,CAACC,SAAS,KAAK,QAAQ,GAAGN,SAAS,CAACG,CAAC,EAAEI,QAAQ,CAACJ,CAAC,CAAC,CAAC,GAAGK,MAAM,CAACL,CAAC,CAAC;EAClFJ,CAAC,CAACU,OAAO,CAACL,GAAG,EAAE,UAAUM,CAAC,EAAE;IAC1B,IAAIC,KAAK,GAAGR,CAAC,CAACS,IAAI,CAACF,CAAC,CAAC;IACrBP,CAAC,CAACU,UAAU,CAACH,CAAC,CAAC;IACfC,KAAK,CAACG,WAAW,GAAGJ,CAAC,CAACK,IAAI;IAC1BJ,KAAK,CAACK,QAAQ,GAAG,IAAI;IACrBb,CAAC,CAACc,OAAO,CAACP,CAAC,CAACQ,CAAC,EAAER,CAAC,CAACS,CAAC,EAAER,KAAK,EAAEZ,CAAC,CAACqB,QAAQ,CAAC,KAAK,CAAC,CAAC;EAC/C,CAAC,CAAC;EAEF,SAASb,QAAQA,CAACJ,CAAC,EAAE;IACnB,OAAO,UAAUO,CAAC,EAAE;MAClB,OAAOP,CAAC,CAACS,IAAI,CAACF,CAAC,CAAC,CAACW,MAAM;IACzB,CAAC;EACH;AACF;AAEA,SAASb,MAAMA,CAACL,CAAC,EAAE;EACjB,IAAIC,GAAG,GAAG,EAAE;EACZ,IAAIkB,KAAK,GAAG,CAAC,CAAC;EACd,IAAIC,OAAO,GAAG,CAAC,CAAC;EAEhB,SAASC,GAAGA,CAACL,CAAC,EAAE;IACd,IAAIM,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACL,OAAO,EAAEJ,CAAC,CAAC,EAAE;MACpD;IACF;IACAI,OAAO,CAACJ,CAAC,CAAC,GAAG,IAAI;IACjBG,KAAK,CAACH,CAAC,CAAC,GAAG,IAAI;IACfpB,CAAC,CAACU,OAAO,CAACN,CAAC,CAAC0B,QAAQ,CAACV,CAAC,CAAC,EAAE,UAAUT,CAAC,EAAE;MACpC,IAAIe,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACN,KAAK,EAAEZ,CAAC,CAACQ,CAAC,CAAC,EAAE;QACpDd,GAAG,CAAC0B,IAAI,CAACpB,CAAC,CAAC;MACb,CAAC,MAAM;QACLc,GAAG,CAACd,CAAC,CAACQ,CAAC,CAAC;MACV;IACF,CAAC,CAAC;IACF,OAAOI,KAAK,CAACH,CAAC,CAAC;EACjB;EAEApB,CAAC,CAACU,OAAO,CAACN,CAAC,CAAC4B,KAAK,CAAC,CAAC,EAAEP,GAAG,CAAC;EACzB,OAAOpB,GAAG;AACZ;AAEA,SAASF,IAAIA,CAACC,CAAC,EAAE;EACfJ,CAAC,CAACU,OAAO,CAACN,CAAC,CAAC6B,KAAK,CAAC,CAAC,EAAE,UAAUtB,CAAC,EAAE;IAChC,IAAIC,KAAK,GAAGR,CAAC,CAACS,IAAI,CAACF,CAAC,CAAC;IACrB,IAAIC,KAAK,CAACK,QAAQ,EAAE;MAClBb,CAAC,CAACU,UAAU,CAACH,CAAC,CAAC;MAEf,IAAII,WAAW,GAAGH,KAAK,CAACG,WAAW;MACnC,OAAOH,KAAK,CAACK,QAAQ;MACrB,OAAOL,KAAK,CAACG,WAAW;MACxBX,CAAC,CAACc,OAAO,CAACP,CAAC,CAACQ,CAAC,EAAER,CAAC,CAACS,CAAC,EAAER,KAAK,EAAEG,WAAW,CAAC;IACzC;EACF,CAAC,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}