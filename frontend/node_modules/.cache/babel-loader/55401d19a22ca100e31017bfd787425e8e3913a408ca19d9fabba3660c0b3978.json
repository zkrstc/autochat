{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-8\"\n};\nconst _hoisted_2 = {\n  class: \"bg-white rounded-lg shadow p-6 mb-6\"\n};\nconst _hoisted_3 = {\n  class: \"overflow-x-auto\"\n};\nconst _hoisted_4 = {\n  class: \"w-full\"\n};\nconst _hoisted_5 = {\n  class: \"px-4 py-4\"\n};\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = {\n  key: 0,\n  class: \"modal\"\n};\nconst _hoisted_9 = {\n  class: \"modal-content\"\n};\nconst _hoisted_10 = {\n  key: 0,\n  class: \"modal\"\n};\nconst _hoisted_11 = {\n  class: \"modal-content\"\n};\nconst _hoisted_12 = {\n  class: \"space-y-3\"\n};\nconst _hoisted_13 = {\n  class: \"flex justify-end space-x-3 mt-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", {\n    class: \"flex justify-between items-center mb-6\"\n  }, [_cache[6] || (_cache[6] = _createElementVNode(\"h2\", {\n    class: \"text-lg font-medium\"\n  }, \"需求列表\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: $setup.openAddModal,\n    class: \"bg-primary text-white px-4 py-2 !rounded-button flex items-center\"\n  }, _cache[5] || (_cache[5] = [_createElementVNode(\"i\", {\n    class: \"fas fa-plus mr-2\"\n  }, null, -1 /* HOISTED */), _createTextVNode(\"新建需求 \")]))]), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"table\", _hoisted_4, [_createCommentVNode(\" <thead>\\r\\n                                <tr class=\\\"bg-gray-50\\\">\\r\\n                                    <th class=\\\"px-4 py-3 text-left text-sm font-medium text-gray-500\\\">需求名称</th>\\r\\n                                    <th class=\\\"px-4 py-3 text-left text-sm font-medium text-gray-500\\\">优先级</th>\\r\\n                                    <th class=\\\"px-4 py-3 text-left text-sm font-medium text-gray-500\\\">状态</th>\\r\\n                                    <th class=\\\"px-4 py-3 text-left text-sm font-medium text-gray-500\\\">创建时间</th>\\r\\n                                    <th class=\\\"px-4 py-3 text-left text-sm font-medium text-gray-500\\\">操作</th>\\r\\n                                </tr>\\r\\n                            </thead>\\r\\n                            <tbody>\\r\\n                                <tr class=\\\"border-t\\\">\\r\\n                                    <td class=\\\"px-4 py-4 text-sm\\\">设计一个医院系统</td>\\r\\n                                    <td class=\\\"px-4 py-4\\\"><span\\r\\n                                            class=\\\"px-2 py-1 bg-red-100 text-red-800 rounded text-sm\\\">高</span></td>\\r\\n                                    <td class=\\\"px-4 py-4\\\"><span\\r\\n                                            class=\\\"px-2 py-1 bg-green-100 text-green-800 rounded text-sm\\\">进行中</span>\\r\\n                                    </td>\\r\\n                                    <td class=\\\"px-4 py-4 text-sm\\\">2024-01-15</td>\\r\\n                                    <td class=\\\"px-4 py-4\\\">\\r\\n                                        <button class=\\\"text-primary hover:text-primary-dark mr-2\\\"><i\\r\\n                                                class=\\\"fas fa-edit\\\"></i></button>\\r\\n                                        <button class=\\\"text-red-500 hover:text-red-600\\\"><i\\r\\n                                                class=\\\"fas fa-trash\\\"></i></button>\\r\\n                                    </td>\\r\\n                                </tr>\\r\\n                                <tr class=\\\"border-t\\\">\\r\\n                                    <td class=\\\"px-4 py-4 text-sm\\\">设计一个商城系统</td>\\r\\n                                    <td class=\\\"px-4 py-4\\\"><span\\r\\n                                            class=\\\"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm\\\">中</span>\\r\\n                                    </td>\\r\\n                                    <td class=\\\"px-4 py-4\\\"><span\\r\\n                                            class=\\\"px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm\\\">待审核</span></td>\\r\\n                                    <td class=\\\"px-4 py-4 text-sm\\\">2024-01-14</td>\\r\\n                                    <td class=\\\"px-4 py-4\\\">\\r\\n                                        <button class=\\\"text-primary hover:text-primary-dark mr-2\\\"><i\\r\\n                                                class=\\\"fas fa-edit\\\"></i></button>\\r\\n                                        <button class=\\\"text-red-500 hover:text-red-600\\\"><i\\r\\n                                                class=\\\"fas fa-trash\\\"></i></button>\\r\\n                                    </td>\\r\\n                                </tr>\\r\\n                                <tr class=\\\"border-t\\\">\\r\\n                                    <td class=\\\"px-4 py-4 text-sm\\\">设计一个某某系统</td>\\r\\n                                    <td class=\\\"px-4 py-4\\\"><span\\r\\n                                            class=\\\"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm\\\">中</span>\\r\\n                                    </td>\\r\\n                                    <td class=\\\"px-4 py-4\\\"><span\\r\\n                                            class=\\\"px-2 py-1 bg-gray-100 text-gray-800 rounded text-sm\\\">已完成</span></td>\\r\\n                                    <td class=\\\"px-4 py-4 text-sm\\\">2024-01-13</td>\\r\\n                                    <td class=\\\"px-4 py-4\\\">\\r\\n                                        <button class=\\\"text-primary hover:text-primary-dark mr-2\\\"><i\\r\\n                                                class=\\\"fas fa-edit\\\"></i></button>\\r\\n                                        <button class=\\\"text-red-500 hover:text-red-600\\\"><i\\r\\n                                                class=\\\"fas fa-trash\\\"></i></button>\\r\\n                                    </td>\\r\\n                                </tr>\\r\\n                            </tbody> \"), _cache[7] || (_cache[7] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"ID\"), _createElementVNode(\"th\", null, \"User ID\"), _createElementVNode(\"th\", null, \"Name\"), _createElementVNode(\"th\", null, \"Version\"), _createCommentVNode(\" <th>Content</th> \"), _createElementVNode(\"th\", null, \"Created At\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.requirements, requirement => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: requirement.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(requirement.id), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(requirement.user_id), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(requirement.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(requirement.version), 1 /* TEXT */), _createCommentVNode(\" <td>{{ requirement.content }}</td> \"), _createElementVNode(\"td\", null, _toDisplayString(requirement.created_at), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_5, [_createElementVNode(\"button\", {\n      class: \"text-primary hover:text-primary-dark mr-2\",\n      onClick: $event => $setup.editRequirement(requirement)\n    }, \"Edit\", 8 /* PROPS */, _hoisted_6), _createElementVNode(\"button\", {\n      class: \"btn btn-danger btn-sm\",\n      onClick: $event => _ctx.deleteRequirement(requirement.id)\n    }, \"Delete\", 8 /* PROPS */, _hoisted_7)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), $setup.showModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_cache[8] || (_cache[8] = _createElementVNode(\"h3\", {\n    class: \"text-lg font-semibold mb-4\"\n  }, \"编辑需求内容\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.editedContent = $event),\n    rows: \"6\",\n    class: \"w-full border rounded px-3 py-2 text-sm focus:outline-primary resize-none\",\n    placeholder: \"请输入需求内容\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.editedContent]]), _createElementVNode(\"div\", {\n    class: \"flex justify-end space-x-3 mt-4\"\n  }, [_createElementVNode(\"button\", {\n    onClick: $setup.closeModal,\n    class: \"px-4 py-2 border rounded text-sm text-gray-600\"\n  }, \"取消\"), _createElementVNode(\"button\", {\n    onClick: $setup.saveRequirement,\n    class: \"px-4 py-2 bg-primary text-white rounded text-sm hover:bg-blue-600\"\n  }, \" 保存 \")])])])) : _createCommentVNode(\"v-if\", true)]), _cache[9] || (_cache[9] = _createStaticVNode(\"<div class=\\\"bg-white rounded-lg shadow p-6\\\"><h2 class=\\\"text-lg font-medium mb-6\\\">需求统计</h2><div class=\\\"grid grid-cols-4 gap-6\\\"><div class=\\\"p-4 bg-blue-50 rounded-lg\\\"><div class=\\\"text-blue-600 mb-2\\\"><i class=\\\"fas fa-clipboard-list text-xl\\\"></i></div><div class=\\\"text-2xl font-semibold text-gray-800\\\">24</div><div class=\\\"text-sm text-gray-500\\\">总需求数</div></div><div class=\\\"p-4 bg-green-50 rounded-lg\\\"><div class=\\\"text-green-600 mb-2\\\"><i class=\\\"fas fa-check-circle text-xl\\\"></i></div><div class=\\\"text-2xl font-semibold text-gray-800\\\">18</div><div class=\\\"text-sm text-gray-500\\\">已完成</div></div><div class=\\\"p-4 bg-yellow-50 rounded-lg\\\"><div class=\\\"text-yellow-600 mb-2\\\"><i class=\\\"fas fa-clock text-xl\\\"></i></div><div class=\\\"text-2xl font-semibold text-gray-800\\\">4</div><div class=\\\"text-sm text-gray-500\\\">进行中</div></div><div class=\\\"p-4 bg-red-50 rounded-lg\\\"><div class=\\\"text-red-600 mb-2\\\"><i class=\\\"fas fa-exclamation-circle text-xl\\\"></i></div><div class=\\\"text-2xl font-semibold text-gray-800\\\">2</div><div class=\\\"text-sm text-gray-500\\\">待处理</div></div></div></div>\", 1))]), $setup.showAddModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_cache[10] || (_cache[10] = _createElementVNode(\"h3\", {\n    class: \"text-lg font-semibold mb-4\"\n  }, \"新建需求\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_12, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.newRequirement.name = $event),\n    placeholder: \"需求名称\",\n    class: \"w-full border rounded px-3 py-2 text-sm focus:outline-primary\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newRequirement.name]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.newRequirement.version = $event),\n    placeholder: \"版本号\",\n    class: \"w-full border rounded px-3 py-2 text-sm focus:outline-primary\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newRequirement.version]]), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.newRequirement.content = $event),\n    placeholder: \"请输入需求内容\",\n    rows: \"5\",\n    class: \"w-full border rounded px-3 py-2 text-sm focus:outline-primary\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newRequirement.content]])]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = $event => $setup.showAddModal = false),\n    class: \"px-4 py-2 border rounded text-sm text-gray-600\"\n  }, \"取消\"), _createElementVNode(\"button\", {\n    onClick: $setup.saveNewRequirement,\n    class: \"px-4 py-2 bg-primary text-white rounded text-sm hover:bg-blue-600\"\n  }, \"保存\")])])])) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_Fragment","_createElementVNode","_hoisted_1","_hoisted_2","onClick","$setup","openAddModal","_createTextVNode","_hoisted_3","_hoisted_4","_createCommentVNode","_renderList","requirements","requirement","id","_toDisplayString","user_id","name","version","created_at","_hoisted_5","$event","editRequirement","_hoisted_6","_ctx","deleteRequirement","_hoisted_7","showModal","_hoisted_8","_hoisted_9","_cache","editedContent","rows","placeholder","closeModal","saveRequirement","_createStaticVNode","showAddModal","_hoisted_10","_hoisted_11","_hoisted_12","newRequirement","content","_hoisted_13","saveNewRequirement"],"sources":["C:\\Users\\ASUS\\Desktop\\autochat\\frontend\\src\\views\\RequirementPage.vue"],"sourcesContent":["<template>\r\n    <div class=\"p-8\">\r\n        <div class=\"bg-white rounded-lg shadow p-6 mb-6\">\r\n            <div class=\"flex justify-between items-center mb-6\">\r\n                <h2 class=\"text-lg font-medium\">需求列表</h2>\r\n\r\n              <button @click=\"openAddModal\" class=\"bg-primary text-white px-4 py-2 !rounded-button flex items-center\">\r\n  <i class=\"fas fa-plus mr-2\"></i>新建需求\r\n</button>\r\n\r\n            </div>\r\n            <div class=\"overflow-x-auto\">\r\n                <table class=\"w-full\">\r\n                    <!-- <thead>\r\n                                <tr class=\"bg-gray-50\">\r\n                                    <th class=\"px-4 py-3 text-left text-sm font-medium text-gray-500\">需求名称</th>\r\n                                    <th class=\"px-4 py-3 text-left text-sm font-medium text-gray-500\">优先级</th>\r\n                                    <th class=\"px-4 py-3 text-left text-sm font-medium text-gray-500\">状态</th>\r\n                                    <th class=\"px-4 py-3 text-left text-sm font-medium text-gray-500\">创建时间</th>\r\n                                    <th class=\"px-4 py-3 text-left text-sm font-medium text-gray-500\">操作</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr class=\"border-t\">\r\n                                    <td class=\"px-4 py-4 text-sm\">设计一个医院系统</td>\r\n                                    <td class=\"px-4 py-4\"><span\r\n                                            class=\"px-2 py-1 bg-red-100 text-red-800 rounded text-sm\">高</span></td>\r\n                                    <td class=\"px-4 py-4\"><span\r\n                                            class=\"px-2 py-1 bg-green-100 text-green-800 rounded text-sm\">进行中</span>\r\n                                    </td>\r\n                                    <td class=\"px-4 py-4 text-sm\">2024-01-15</td>\r\n                                    <td class=\"px-4 py-4\">\r\n                                        <button class=\"text-primary hover:text-primary-dark mr-2\"><i\r\n                                                class=\"fas fa-edit\"></i></button>\r\n                                        <button class=\"text-red-500 hover:text-red-600\"><i\r\n                                                class=\"fas fa-trash\"></i></button>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr class=\"border-t\">\r\n                                    <td class=\"px-4 py-4 text-sm\">设计一个商城系统</td>\r\n                                    <td class=\"px-4 py-4\"><span\r\n                                            class=\"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm\">中</span>\r\n                                    </td>\r\n                                    <td class=\"px-4 py-4\"><span\r\n                                            class=\"px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm\">待审核</span></td>\r\n                                    <td class=\"px-4 py-4 text-sm\">2024-01-14</td>\r\n                                    <td class=\"px-4 py-4\">\r\n                                        <button class=\"text-primary hover:text-primary-dark mr-2\"><i\r\n                                                class=\"fas fa-edit\"></i></button>\r\n                                        <button class=\"text-red-500 hover:text-red-600\"><i\r\n                                                class=\"fas fa-trash\"></i></button>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr class=\"border-t\">\r\n                                    <td class=\"px-4 py-4 text-sm\">设计一个某某系统</td>\r\n                                    <td class=\"px-4 py-4\"><span\r\n                                            class=\"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm\">中</span>\r\n                                    </td>\r\n                                    <td class=\"px-4 py-4\"><span\r\n                                            class=\"px-2 py-1 bg-gray-100 text-gray-800 rounded text-sm\">已完成</span></td>\r\n                                    <td class=\"px-4 py-4 text-sm\">2024-01-13</td>\r\n                                    <td class=\"px-4 py-4\">\r\n                                        <button class=\"text-primary hover:text-primary-dark mr-2\"><i\r\n                                                class=\"fas fa-edit\"></i></button>\r\n                                        <button class=\"text-red-500 hover:text-red-600\"><i\r\n                                                class=\"fas fa-trash\"></i></button>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody> -->\r\n                    <thead>\r\n                        <tr>\r\n                            <th>ID</th>\r\n                            <th>User ID</th>\r\n                            <th>Name</th>\r\n                            <th>Version</th>\r\n                            <!-- <th>Content</th> -->\r\n                            <th>Created At</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-for=\"requirement in requirements\" :key=\"requirement.id\">\r\n                            <td>{{ requirement.id }}</td>\r\n                            <td>{{ requirement.user_id }}</td>\r\n                            <td>{{ requirement.name }}</td>\r\n                            <td>{{ requirement.version }}</td>\r\n                            <!-- <td>{{ requirement.content }}</td> -->\r\n                            <td>{{ requirement.created_at }}</td>\r\n                            <td class=\"px-4 py-4\">\r\n\r\n                                <button class=\"text-primary hover:text-primary-dark mr-2\"\r\n                                    @click=\"editRequirement(requirement)\">Edit</button>\r\n                                <button class=\"btn btn-danger btn-sm\"\r\n                                    @click=\"deleteRequirement(requirement.id)\">Delete</button>\r\n\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n            </div>\r\n\r\n          <div v-if=\"showModal\" class=\"modal\">\r\n  <div class=\"modal-content\">\r\n    <h3 class=\"text-lg font-semibold mb-4\">编辑需求内容</h3>\r\n    <textarea\r\n      v-model=\"editedContent\"\r\n      rows=\"6\"\r\n      class=\"w-full border rounded px-3 py-2 text-sm focus:outline-primary resize-none\"\r\n      placeholder=\"请输入需求内容\"\r\n    ></textarea>\r\n\r\n    <div class=\"flex justify-end space-x-3 mt-4\">\r\n      <button @click=\"closeModal\" class=\"px-4 py-2 border rounded text-sm text-gray-600\">取消</button>\r\n      <button @click=\"saveRequirement\" class=\"px-4 py-2 bg-primary text-white rounded text-sm hover:bg-blue-600\">\r\n        保存\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n        </div>\r\n\r\n        <div class=\"bg-white rounded-lg shadow p-6\">\r\n            <h2 class=\"text-lg font-medium mb-6\">需求统计</h2>\r\n            <div class=\"grid grid-cols-4 gap-6\">\r\n                <div class=\"p-4 bg-blue-50 rounded-lg\">\r\n                    <div class=\"text-blue-600 mb-2\">\r\n                        <i class=\"fas fa-clipboard-list text-xl\"></i>\r\n                    </div>\r\n                    <div class=\"text-2xl font-semibold text-gray-800\">24</div>\r\n                    <div class=\"text-sm text-gray-500\">总需求数</div>\r\n                </div>\r\n                <div class=\"p-4 bg-green-50 rounded-lg\">\r\n                    <div class=\"text-green-600 mb-2\">\r\n                        <i class=\"fas fa-check-circle text-xl\"></i>\r\n                    </div>\r\n                    <div class=\"text-2xl font-semibold text-gray-800\">18</div>\r\n                    <div class=\"text-sm text-gray-500\">已完成</div>\r\n                </div>\r\n                <div class=\"p-4 bg-yellow-50 rounded-lg\">\r\n                    <div class=\"text-yellow-600 mb-2\">\r\n                        <i class=\"fas fa-clock text-xl\"></i>\r\n                    </div>\r\n                    <div class=\"text-2xl font-semibold text-gray-800\">4</div>\r\n                    <div class=\"text-sm text-gray-500\">进行中</div>\r\n                </div>\r\n                <div class=\"p-4 bg-red-50 rounded-lg\">\r\n                    <div class=\"text-red-600 mb-2\">\r\n                        <i class=\"fas fa-exclamation-circle text-xl\"></i>\r\n                    </div>\r\n                    <div class=\"text-2xl font-semibold text-gray-800\">2</div>\r\n                    <div class=\"text-sm text-gray-500\">待处理</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n<div v-if=\"showAddModal\" class=\"modal\">\r\n  <div class=\"modal-content\">\r\n    <h3 class=\"text-lg font-semibold mb-4\">新建需求</h3>\r\n\r\n    <div class=\"space-y-3\">\r\n      <input\r\n        v-model=\"newRequirement.name\"\r\n        placeholder=\"需求名称\"\r\n        class=\"w-full border rounded px-3 py-2 text-sm focus:outline-primary\"\r\n      />\r\n      <input\r\n        v-model=\"newRequirement.version\"\r\n        placeholder=\"版本号\"\r\n        class=\"w-full border rounded px-3 py-2 text-sm focus:outline-primary\"\r\n      />\r\n      <textarea\r\n        v-model=\"newRequirement.content\"\r\n        placeholder=\"请输入需求内容\"\r\n        rows=\"5\"\r\n        class=\"w-full border rounded px-3 py-2 text-sm focus:outline-primary\"\r\n      ></textarea>\r\n    </div>\r\n\r\n    <div class=\"flex justify-end space-x-3 mt-4\">\r\n      <button @click=\"showAddModal = false\" class=\"px-4 py-2 border rounded text-sm text-gray-600\">取消</button>\r\n      <button @click=\"saveNewRequirement\" class=\"px-4 py-2 bg-primary text-white rounded text-sm hover:bg-blue-600\">保存</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport axios from 'axios';\r\n\r\n\r\nconst requirements = ref([]);\r\nconst showModal = ref(false)\r\nconst editedContent = ref('')\r\nconst editingId = ref(null)\r\n// const showModalForAdd = () => {\r\n//     newRequirement.value = '';\r\n//     editing.value = false;\r\n//     showModal.value = true;\r\n// };\r\n\r\n\r\nconst closeModal = () => {\r\n    showModal.value = false;\r\n};\r\n\r\nconst saveRequirement = async () => {\r\n    try {\r\n        if (editingId.value) {\r\n            await axios.put(`http://127.0.0.1:5000/api/requirements/${editingId.value}`, { content: editedContent.value });\r\n        } \r\n        await fetchRequirements();\r\n        closeModal();\r\n    } catch (error) {\r\n        console.error('Error saving requirement:', error);\r\n    }\r\n};\r\n\r\nconst fetchRequirements = async () => {\r\n    try {\r\n        const response = await axios.get('http://127.0.0.1:5000/api/requirements');\r\n        requirements.value = response.data;\r\n    } catch (error) {\r\n        console.error('Error fetching requirements:', error);\r\n    }\r\n};\r\nconst editRequirement = (requirement) => {\r\n    editedContent.value = requirement.content\r\n    editingId.value = requirement.id\r\n    showModal.value = true\r\n}\r\nonMounted(() => {\r\n    fetchRequirements();\r\n});\r\n// const deleteRequirement = async (id) => {\r\n//     try {\r\n//         await axios.delete(`/api/requirements/${id}`);\r\n//         await fetchRequirements();\r\n//     } catch (error) {\r\n//         console.error('Error deleting requirement:', error);\r\n//     }\r\n// };\r\n\r\n\r\n// export default {\r\n//     setup() {\r\n//         const requirements = ref([]);\r\n\r\n//         onMounted(() => {\r\n//             axios.get('http://127.0.0.1:5000/api/requirements')\r\n//                 .then(response => {\r\n//                     requirements.value = response.data;\r\n//                 })\r\n//                 .catch(error => {\r\n//                     console.error('There was an error!', error);\r\n//                 });\r\n//         });\r\n\r\n//         return {\r\n//             requirements\r\n//         };\r\n//     }\r\n    \r\n// };\r\nconst showAddModal = ref(false)\r\nconst newRequirement = ref({\r\n  name: '',\r\n  version: '',\r\n  content: '',\r\n})\r\n\r\nconst openAddModal = () => {\r\n  showAddModal.value = true\r\n  newRequirement.value = {\r\n    name: '',\r\n    version: '',\r\n    content: ''\r\n  }\r\n}\r\n\r\nconst saveNewRequirement = async () => {\r\n  try {\r\n    const userId = localStorage.getItem('user_id') || 1  // 用本地存储的 user_id\r\n    await axios.post('http://127.0.0.1:5000/api/requirements', {\r\n      ...newRequirement.value,\r\n      user_id: parseInt(userId)\r\n    })\r\n    showAddModal.value = false\r\n    await fetchRequirements()\r\n  } catch (err) {\r\n    console.error('Error creating requirement:', err)\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n.modal {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.modal-content {\r\n    background: white;\r\n    padding: 1em;\r\n    margin: 10% auto;\r\n    width: 600px;\r\n    border-radius: 8px;\r\n}\r\n\r\n.textarea {\r\n    width: 100%;\r\n    height: 600px;\r\n    \r\n    margin-bottom: 1em;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}