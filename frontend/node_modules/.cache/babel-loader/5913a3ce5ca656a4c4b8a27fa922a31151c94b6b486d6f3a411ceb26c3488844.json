{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport { getLineFunctionsWithOffset } from \"./chunk-VV3M67IP.mjs\";\nimport { createLabel_default, isLabelStyle } from \"./chunk-HRU6DDCH.mjs\";\nimport { getSubGraphTitleMargins } from \"./chunk-K557N5IZ.mjs\";\nimport { createText } from \"./chunk-C3MQ5ANM.mjs\";\nimport { utils_default } from \"./chunk-O4NI6UNU.mjs\";\nimport { __name, evaluate, getConfig2 as getConfig, log } from \"./chunk-YTJNT7DU.mjs\";\n\n// src/rendering-util/rendering-elements/edges.js\nimport { curveBasis, curveLinear, curveCardinal, curveBumpX, curveBumpY, curveCatmullRom, curveMonotoneX, curveMonotoneY, curveNatural, curveStep, curveStepAfter, curveStepBefore, line, select } from \"d3\";\nimport rough from \"roughjs\";\n\n// src/rendering-util/rendering-elements/edgeMarker.ts\nvar addEdgeMarkers = /* @__PURE__ */__name((svgPath, edge, url, id, diagramType, strokeColor) => {\n  if (edge.arrowTypeStart) {\n    addEdgeMarker(svgPath, \"start\", edge.arrowTypeStart, url, id, diagramType, strokeColor);\n  }\n  if (edge.arrowTypeEnd) {\n    addEdgeMarker(svgPath, \"end\", edge.arrowTypeEnd, url, id, diagramType, strokeColor);\n  }\n}, \"addEdgeMarkers\");\nvar arrowTypesMap = {\n  arrow_cross: {\n    type: \"cross\",\n    fill: false\n  },\n  arrow_point: {\n    type: \"point\",\n    fill: true\n  },\n  arrow_barb: {\n    type: \"barb\",\n    fill: true\n  },\n  arrow_circle: {\n    type: \"circle\",\n    fill: false\n  },\n  aggregation: {\n    type: \"aggregation\",\n    fill: false\n  },\n  extension: {\n    type: \"extension\",\n    fill: false\n  },\n  composition: {\n    type: \"composition\",\n    fill: true\n  },\n  dependency: {\n    type: \"dependency\",\n    fill: true\n  },\n  lollipop: {\n    type: \"lollipop\",\n    fill: false\n  },\n  only_one: {\n    type: \"onlyOne\",\n    fill: false\n  },\n  zero_or_one: {\n    type: \"zeroOrOne\",\n    fill: false\n  },\n  one_or_more: {\n    type: \"oneOrMore\",\n    fill: false\n  },\n  zero_or_more: {\n    type: \"zeroOrMore\",\n    fill: false\n  },\n  requirement_arrow: {\n    type: \"requirement_arrow\",\n    fill: false\n  },\n  requirement_contains: {\n    type: \"requirement_contains\",\n    fill: false\n  }\n};\nvar addEdgeMarker = /* @__PURE__ */__name((svgPath, position, arrowType, url, id, diagramType, strokeColor) => {\n  const arrowTypeInfo = arrowTypesMap[arrowType];\n  if (!arrowTypeInfo) {\n    log.warn(`Unknown arrow type: ${arrowType}`);\n    return;\n  }\n  const endMarkerType = arrowTypeInfo.type;\n  const suffix = position === \"start\" ? \"Start\" : \"End\";\n  const originalMarkerId = `${id}_${diagramType}-${endMarkerType}${suffix}`;\n  if (strokeColor && strokeColor.trim() !== \"\") {\n    const colorId = strokeColor.replace(/[^\\dA-Za-z]/g, \"_\");\n    const coloredMarkerId = `${originalMarkerId}_${colorId}`;\n    if (!document.getElementById(coloredMarkerId)) {\n      const originalMarker = document.getElementById(originalMarkerId);\n      if (originalMarker) {\n        const coloredMarker = originalMarker.cloneNode(true);\n        coloredMarker.id = coloredMarkerId;\n        const paths = coloredMarker.querySelectorAll(\"path, circle, line\");\n        paths.forEach(path => {\n          path.setAttribute(\"stroke\", strokeColor);\n          if (arrowTypeInfo.fill) {\n            path.setAttribute(\"fill\", strokeColor);\n          }\n        });\n        originalMarker.parentNode?.appendChild(coloredMarker);\n      }\n    }\n    svgPath.attr(`marker-${position}`, `url(${url}#${coloredMarkerId})`);\n  } else {\n    svgPath.attr(`marker-${position}`, `url(${url}#${originalMarkerId})`);\n  }\n}, \"addEdgeMarker\");\n\n// src/rendering-util/rendering-elements/edges.js\nvar edgeLabels = /* @__PURE__ */new Map();\nvar terminalLabels = /* @__PURE__ */new Map();\nvar clear = /* @__PURE__ */__name(() => {\n  edgeLabels.clear();\n  terminalLabels.clear();\n}, \"clear\");\nvar getLabelStyles = /* @__PURE__ */__name(styleArray => {\n  let styles = styleArray ? styleArray.reduce((acc, style) => acc + \";\" + style, \"\") : \"\";\n  return styles;\n}, \"getLabelStyles\");\nvar insertEdgeLabel = /* @__PURE__ */__name(async (elem, edge) => {\n  let useHtmlLabels = evaluate(getConfig().flowchart.htmlLabels);\n  const labelElement = await createText(elem, edge.label, {\n    style: getLabelStyles(edge.labelStyle),\n    useHtmlLabels,\n    addSvgBackground: true,\n    isNode: false\n  });\n  log.info(\"abc82\", edge, edge.labelType);\n  const edgeLabel = elem.insert(\"g\").attr(\"class\", \"edgeLabel\");\n  const label = edgeLabel.insert(\"g\").attr(\"class\", \"label\");\n  label.node().appendChild(labelElement);\n  let bbox = labelElement.getBBox();\n  if (useHtmlLabels) {\n    const div = labelElement.children[0];\n    const dv = select(labelElement);\n    bbox = div.getBoundingClientRect();\n    dv.attr(\"width\", bbox.width);\n    dv.attr(\"height\", bbox.height);\n  }\n  label.attr(\"transform\", \"translate(\" + -bbox.width / 2 + \", \" + -bbox.height / 2 + \")\");\n  edgeLabels.set(edge.id, edgeLabel);\n  edge.width = bbox.width;\n  edge.height = bbox.height;\n  let fo;\n  if (edge.startLabelLeft) {\n    const startLabelElement = await createLabel_default(edge.startLabelLeft, getLabelStyles(edge.labelStyle));\n    const startEdgeLabelLeft = elem.insert(\"g\").attr(\"class\", \"edgeTerminals\");\n    const inner = startEdgeLabelLeft.insert(\"g\").attr(\"class\", \"inner\");\n    fo = inner.node().appendChild(startLabelElement);\n    const slBox = startLabelElement.getBBox();\n    inner.attr(\"transform\", \"translate(\" + -slBox.width / 2 + \", \" + -slBox.height / 2 + \")\");\n    if (!terminalLabels.get(edge.id)) {\n      terminalLabels.set(edge.id, {});\n    }\n    terminalLabels.get(edge.id).startLeft = startEdgeLabelLeft;\n    setTerminalWidth(fo, edge.startLabelLeft);\n  }\n  if (edge.startLabelRight) {\n    const startLabelElement = await createLabel_default(edge.startLabelRight, getLabelStyles(edge.labelStyle));\n    const startEdgeLabelRight = elem.insert(\"g\").attr(\"class\", \"edgeTerminals\");\n    const inner = startEdgeLabelRight.insert(\"g\").attr(\"class\", \"inner\");\n    fo = startEdgeLabelRight.node().appendChild(startLabelElement);\n    inner.node().appendChild(startLabelElement);\n    const slBox = startLabelElement.getBBox();\n    inner.attr(\"transform\", \"translate(\" + -slBox.width / 2 + \", \" + -slBox.height / 2 + \")\");\n    if (!terminalLabels.get(edge.id)) {\n      terminalLabels.set(edge.id, {});\n    }\n    terminalLabels.get(edge.id).startRight = startEdgeLabelRight;\n    setTerminalWidth(fo, edge.startLabelRight);\n  }\n  if (edge.endLabelLeft) {\n    const endLabelElement = await createLabel_default(edge.endLabelLeft, getLabelStyles(edge.labelStyle));\n    const endEdgeLabelLeft = elem.insert(\"g\").attr(\"class\", \"edgeTerminals\");\n    const inner = endEdgeLabelLeft.insert(\"g\").attr(\"class\", \"inner\");\n    fo = inner.node().appendChild(endLabelElement);\n    const slBox = endLabelElement.getBBox();\n    inner.attr(\"transform\", \"translate(\" + -slBox.width / 2 + \", \" + -slBox.height / 2 + \")\");\n    endEdgeLabelLeft.node().appendChild(endLabelElement);\n    if (!terminalLabels.get(edge.id)) {\n      terminalLabels.set(edge.id, {});\n    }\n    terminalLabels.get(edge.id).endLeft = endEdgeLabelLeft;\n    setTerminalWidth(fo, edge.endLabelLeft);\n  }\n  if (edge.endLabelRight) {\n    const endLabelElement = await createLabel_default(edge.endLabelRight, getLabelStyles(edge.labelStyle));\n    const endEdgeLabelRight = elem.insert(\"g\").attr(\"class\", \"edgeTerminals\");\n    const inner = endEdgeLabelRight.insert(\"g\").attr(\"class\", \"inner\");\n    fo = inner.node().appendChild(endLabelElement);\n    const slBox = endLabelElement.getBBox();\n    inner.attr(\"transform\", \"translate(\" + -slBox.width / 2 + \", \" + -slBox.height / 2 + \")\");\n    endEdgeLabelRight.node().appendChild(endLabelElement);\n    if (!terminalLabels.get(edge.id)) {\n      terminalLabels.set(edge.id, {});\n    }\n    terminalLabels.get(edge.id).endRight = endEdgeLabelRight;\n    setTerminalWidth(fo, edge.endLabelRight);\n  }\n  return labelElement;\n}, \"insertEdgeLabel\");\nfunction setTerminalWidth(fo, value) {\n  if (getConfig().flowchart.htmlLabels && fo) {\n    fo.style.width = value.length * 9 + \"px\";\n    fo.style.height = \"12px\";\n  }\n}\n__name(setTerminalWidth, \"setTerminalWidth\");\nvar positionEdgeLabel = /* @__PURE__ */__name((edge, paths) => {\n  log.debug(\"Moving label abc88 \", edge.id, edge.label, edgeLabels.get(edge.id), paths);\n  let path = paths.updatedPath ? paths.updatedPath : paths.originalPath;\n  const siteConfig = getConfig();\n  const {\n    subGraphTitleTotalMargin\n  } = getSubGraphTitleMargins(siteConfig);\n  if (edge.label) {\n    const el = edgeLabels.get(edge.id);\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils_default.calcLabelPosition(path);\n      log.debug(\"Moving label \" + edge.label + \" from (\", x, \",\", y, \") to (\", pos.x, \",\", pos.y, \") abc88\");\n      if (paths.updatedPath) {\n        x = pos.x;\n        y = pos.y;\n      }\n    }\n    el.attr(\"transform\", `translate(${x}, ${y + subGraphTitleTotalMargin / 2})`);\n  }\n  if (edge.startLabelLeft) {\n    const el = terminalLabels.get(edge.id).startLeft;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils_default.calcTerminalLabelPosition(edge.arrowTypeStart ? 10 : 0, \"start_left\", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr(\"transform\", `translate(${x}, ${y})`);\n  }\n  if (edge.startLabelRight) {\n    const el = terminalLabels.get(edge.id).startRight;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils_default.calcTerminalLabelPosition(edge.arrowTypeStart ? 10 : 0, \"start_right\", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr(\"transform\", `translate(${x}, ${y})`);\n  }\n  if (edge.endLabelLeft) {\n    const el = terminalLabels.get(edge.id).endLeft;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils_default.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, \"end_left\", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr(\"transform\", `translate(${x}, ${y})`);\n  }\n  if (edge.endLabelRight) {\n    const el = terminalLabels.get(edge.id).endRight;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils_default.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, \"end_right\", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr(\"transform\", `translate(${x}, ${y})`);\n  }\n}, \"positionEdgeLabel\");\nvar outsideNode = /* @__PURE__ */__name((node, point2) => {\n  const x = node.x;\n  const y = node.y;\n  const dx = Math.abs(point2.x - x);\n  const dy = Math.abs(point2.y - y);\n  const w = node.width / 2;\n  const h = node.height / 2;\n  return dx >= w || dy >= h;\n}, \"outsideNode\");\nvar intersection = /* @__PURE__ */__name((node, outsidePoint, insidePoint) => {\n  log.debug(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(outsidePoint)}\n  insidePoint : ${JSON.stringify(insidePoint)}\n  node        : x:${node.x} y:${node.y} w:${node.width} h:${node.height}`);\n  const x = node.x;\n  const y = node.y;\n  const dx = Math.abs(x - insidePoint.x);\n  const w = node.width / 2;\n  let r = insidePoint.x < outsidePoint.x ? w - dx : w + dx;\n  const h = node.height / 2;\n  const Q = Math.abs(outsidePoint.y - insidePoint.y);\n  const R = Math.abs(outsidePoint.x - insidePoint.x);\n  if (Math.abs(y - outsidePoint.y) * w > Math.abs(x - outsidePoint.x) * h) {\n    let q = insidePoint.y < outsidePoint.y ? outsidePoint.y - h - y : y - h - outsidePoint.y;\n    r = R * q / Q;\n    const res = {\n      x: insidePoint.x < outsidePoint.x ? insidePoint.x + r : insidePoint.x - R + r,\n      y: insidePoint.y < outsidePoint.y ? insidePoint.y + Q - q : insidePoint.y - Q + q\n    };\n    if (r === 0) {\n      res.x = outsidePoint.x;\n      res.y = outsidePoint.y;\n    }\n    if (R === 0) {\n      res.x = outsidePoint.x;\n    }\n    if (Q === 0) {\n      res.y = outsidePoint.y;\n    }\n    log.debug(`abc89 top/bottom calc, Q ${Q}, q ${q}, R ${R}, r ${r}`, res);\n    return res;\n  } else {\n    if (insidePoint.x < outsidePoint.x) {\n      r = outsidePoint.x - w - x;\n    } else {\n      r = x - w - outsidePoint.x;\n    }\n    let q = Q * r / R;\n    let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : insidePoint.x - R + r;\n    let _y = insidePoint.y < outsidePoint.y ? insidePoint.y + q : insidePoint.y - q;\n    log.debug(`sides calc abc89, Q ${Q}, q ${q}, R ${R}, r ${r}`, {\n      _x,\n      _y\n    });\n    if (r === 0) {\n      _x = outsidePoint.x;\n      _y = outsidePoint.y;\n    }\n    if (R === 0) {\n      _x = outsidePoint.x;\n    }\n    if (Q === 0) {\n      _y = outsidePoint.y;\n    }\n    return {\n      x: _x,\n      y: _y\n    };\n  }\n}, \"intersection\");\nvar cutPathAtIntersect = /* @__PURE__ */__name((_points, boundaryNode) => {\n  log.warn(\"abc88 cutPathAtIntersect\", _points, boundaryNode);\n  let points = [];\n  let lastPointOutside = _points[0];\n  let isInside = false;\n  _points.forEach(point2 => {\n    log.info(\"abc88 checking point\", point2, boundaryNode);\n    if (!outsideNode(boundaryNode, point2) && !isInside) {\n      const inter = intersection(boundaryNode, lastPointOutside, point2);\n      log.debug(\"abc88 inside\", point2, lastPointOutside, inter);\n      log.debug(\"abc88 intersection\", inter, boundaryNode);\n      let pointPresent = false;\n      points.forEach(p => {\n        pointPresent = pointPresent || p.x === inter.x && p.y === inter.y;\n      });\n      if (!points.some(e => e.x === inter.x && e.y === inter.y)) {\n        points.push(inter);\n      } else {\n        log.warn(\"abc88 no intersect\", inter, points);\n      }\n      isInside = true;\n    } else {\n      log.warn(\"abc88 outside\", point2, lastPointOutside);\n      lastPointOutside = point2;\n      if (!isInside) {\n        points.push(point2);\n      }\n    }\n  });\n  log.debug(\"returning points\", points);\n  return points;\n}, \"cutPathAtIntersect\");\nfunction extractCornerPoints(points) {\n  const cornerPoints = [];\n  const cornerPointPositions = [];\n  for (let i = 1; i < points.length - 1; i++) {\n    const prev = points[i - 1];\n    const curr = points[i];\n    const next = points[i + 1];\n    if (prev.x === curr.x && curr.y === next.y && Math.abs(curr.x - next.x) > 5 && Math.abs(curr.y - prev.y) > 5) {\n      cornerPoints.push(curr);\n      cornerPointPositions.push(i);\n    } else if (prev.y === curr.y && curr.x === next.x && Math.abs(curr.x - prev.x) > 5 && Math.abs(curr.y - next.y) > 5) {\n      cornerPoints.push(curr);\n      cornerPointPositions.push(i);\n    }\n  }\n  return {\n    cornerPoints,\n    cornerPointPositions\n  };\n}\n__name(extractCornerPoints, \"extractCornerPoints\");\nvar findAdjacentPoint = /* @__PURE__ */__name(function (pointA, pointB, distance) {\n  const xDiff = pointB.x - pointA.x;\n  const yDiff = pointB.y - pointA.y;\n  const length = Math.sqrt(xDiff * xDiff + yDiff * yDiff);\n  const ratio = distance / length;\n  return {\n    x: pointB.x - ratio * xDiff,\n    y: pointB.y - ratio * yDiff\n  };\n}, \"findAdjacentPoint\");\nvar fixCorners = /* @__PURE__ */__name(function (lineData) {\n  const {\n    cornerPointPositions\n  } = extractCornerPoints(lineData);\n  const newLineData = [];\n  for (let i = 0; i < lineData.length; i++) {\n    if (cornerPointPositions.includes(i)) {\n      const prevPoint = lineData[i - 1];\n      const nextPoint = lineData[i + 1];\n      const cornerPoint = lineData[i];\n      const newPrevPoint = findAdjacentPoint(prevPoint, cornerPoint, 5);\n      const newNextPoint = findAdjacentPoint(nextPoint, cornerPoint, 5);\n      const xDiff = newNextPoint.x - newPrevPoint.x;\n      const yDiff = newNextPoint.y - newPrevPoint.y;\n      newLineData.push(newPrevPoint);\n      const a = Math.sqrt(2) * 2;\n      let newCornerPoint = {\n        x: cornerPoint.x,\n        y: cornerPoint.y\n      };\n      if (Math.abs(nextPoint.x - prevPoint.x) > 10 && Math.abs(nextPoint.y - prevPoint.y) >= 10) {\n        log.debug(\"Corner point fixing\", Math.abs(nextPoint.x - prevPoint.x), Math.abs(nextPoint.y - prevPoint.y));\n        const r = 5;\n        if (cornerPoint.x === newPrevPoint.x) {\n          newCornerPoint = {\n            x: xDiff < 0 ? newPrevPoint.x - r + a : newPrevPoint.x + r - a,\n            y: yDiff < 0 ? newPrevPoint.y - a : newPrevPoint.y + a\n          };\n        } else {\n          newCornerPoint = {\n            x: xDiff < 0 ? newPrevPoint.x - a : newPrevPoint.x + a,\n            y: yDiff < 0 ? newPrevPoint.y - r + a : newPrevPoint.y + r - a\n          };\n        }\n      } else {\n        log.debug(\"Corner point skipping fixing\", Math.abs(nextPoint.x - prevPoint.x), Math.abs(nextPoint.y - prevPoint.y));\n      }\n      newLineData.push(newCornerPoint, newNextPoint);\n    } else {\n      newLineData.push(lineData[i]);\n    }\n  }\n  return newLineData;\n}, \"fixCorners\");\nvar insertEdge = /* @__PURE__ */__name(function (elem, edge, clusterDb, diagramType, startNode, endNode, id) {\n  const {\n    handDrawnSeed\n  } = getConfig();\n  let points = edge.points;\n  let pointsHasChanged = false;\n  const tail = startNode;\n  var head = endNode;\n  const edgeClassStyles = [];\n  for (const key in edge.cssCompiledStyles) {\n    if (isLabelStyle(key)) {\n      continue;\n    }\n    edgeClassStyles.push(edge.cssCompiledStyles[key]);\n  }\n  if (head.intersect && tail.intersect) {\n    points = points.slice(1, edge.points.length - 1);\n    points.unshift(tail.intersect(points[0]));\n    log.debug(\"Last point APA12\", edge.start, \"-->\", edge.end, points[points.length - 1], head, head.intersect(points[points.length - 1]));\n    points.push(head.intersect(points[points.length - 1]));\n  }\n  if (edge.toCluster) {\n    log.info(\"to cluster abc88\", clusterDb.get(edge.toCluster));\n    points = cutPathAtIntersect(edge.points, clusterDb.get(edge.toCluster).node);\n    pointsHasChanged = true;\n  }\n  if (edge.fromCluster) {\n    log.debug(\"from cluster abc88\", clusterDb.get(edge.fromCluster), JSON.stringify(points, null, 2));\n    points = cutPathAtIntersect(points.reverse(), clusterDb.get(edge.fromCluster).node).reverse();\n    pointsHasChanged = true;\n  }\n  let lineData = points.filter(p => !Number.isNaN(p.y));\n  lineData = fixCorners(lineData);\n  let curve = curveBasis;\n  curve = curveLinear;\n  switch (edge.curve) {\n    case \"linear\":\n      curve = curveLinear;\n      break;\n    case \"basis\":\n      curve = curveBasis;\n      break;\n    case \"cardinal\":\n      curve = curveCardinal;\n      break;\n    case \"bumpX\":\n      curve = curveBumpX;\n      break;\n    case \"bumpY\":\n      curve = curveBumpY;\n      break;\n    case \"catmullRom\":\n      curve = curveCatmullRom;\n      break;\n    case \"monotoneX\":\n      curve = curveMonotoneX;\n      break;\n    case \"monotoneY\":\n      curve = curveMonotoneY;\n      break;\n    case \"natural\":\n      curve = curveNatural;\n      break;\n    case \"step\":\n      curve = curveStep;\n      break;\n    case \"stepAfter\":\n      curve = curveStepAfter;\n      break;\n    case \"stepBefore\":\n      curve = curveStepBefore;\n      break;\n    default:\n      curve = curveBasis;\n  }\n  const {\n    x,\n    y\n  } = getLineFunctionsWithOffset(edge);\n  const lineFunction = line().x(x).y(y).curve(curve);\n  let strokeClasses;\n  switch (edge.thickness) {\n    case \"normal\":\n      strokeClasses = \"edge-thickness-normal\";\n      break;\n    case \"thick\":\n      strokeClasses = \"edge-thickness-thick\";\n      break;\n    case \"invisible\":\n      strokeClasses = \"edge-thickness-invisible\";\n      break;\n    default:\n      strokeClasses = \"edge-thickness-normal\";\n  }\n  switch (edge.pattern) {\n    case \"solid\":\n      strokeClasses += \" edge-pattern-solid\";\n      break;\n    case \"dotted\":\n      strokeClasses += \" edge-pattern-dotted\";\n      break;\n    case \"dashed\":\n      strokeClasses += \" edge-pattern-dashed\";\n      break;\n    default:\n      strokeClasses += \" edge-pattern-solid\";\n  }\n  let svgPath;\n  let linePath = lineFunction(lineData);\n  const edgeStyles = Array.isArray(edge.style) ? edge.style : [edge.style];\n  let strokeColor = edgeStyles.find(style => style?.startsWith(\"stroke:\"));\n  if (edge.look === \"handDrawn\") {\n    const rc = rough.svg(elem);\n    Object.assign([], lineData);\n    const svgPathNode = rc.path(linePath, {\n      roughness: 0.3,\n      seed: handDrawnSeed\n    });\n    strokeClasses += \" transition\";\n    svgPath = select(svgPathNode).select(\"path\").attr(\"id\", edge.id).attr(\"class\", \" \" + strokeClasses + (edge.classes ? \" \" + edge.classes : \"\")).attr(\"style\", edgeStyles ? edgeStyles.reduce((acc, style) => acc + \";\" + style, \"\") : \"\");\n    let d = svgPath.attr(\"d\");\n    svgPath.attr(\"d\", d);\n    elem.node().appendChild(svgPath.node());\n  } else {\n    const stylesFromClasses = edgeClassStyles.join(\";\");\n    const styles = edgeStyles ? edgeStyles.reduce((acc, style) => acc + style + \";\", \"\") : \"\";\n    let animationClass = \"\";\n    if (edge.animate) {\n      animationClass = \" edge-animation-fast\";\n    }\n    if (edge.animation) {\n      animationClass = \" edge-animation-\" + edge.animation;\n    }\n    const pathStyle = stylesFromClasses ? stylesFromClasses + \";\" + styles + \";\" : styles;\n    svgPath = elem.append(\"path\").attr(\"d\", linePath).attr(\"id\", edge.id).attr(\"class\", \" \" + strokeClasses + (edge.classes ? \" \" + edge.classes : \"\") + (animationClass ?? \"\")).attr(\"style\", pathStyle);\n    strokeColor = pathStyle.match(/stroke:([^;]+)/)?.[1];\n  }\n  let url = \"\";\n  if (getConfig().flowchart.arrowMarkerAbsolute || getConfig().state.arrowMarkerAbsolute) {\n    url = window.location.protocol + \"//\" + window.location.host + window.location.pathname + window.location.search;\n    url = url.replace(/\\(/g, \"\\\\(\").replace(/\\)/g, \"\\\\)\");\n  }\n  log.info(\"arrowTypeStart\", edge.arrowTypeStart);\n  log.info(\"arrowTypeEnd\", edge.arrowTypeEnd);\n  addEdgeMarkers(svgPath, edge, url, id, diagramType, strokeColor);\n  let paths = {};\n  if (pointsHasChanged) {\n    paths.updatedPath = points;\n  }\n  paths.originalPath = edge.points;\n  return paths;\n}, \"insertEdge\");\n\n// src/rendering-util/rendering-elements/markers.js\nvar insertMarkers = /* @__PURE__ */__name((elem, markerArray, type, id) => {\n  markerArray.forEach(markerName => {\n    markers[markerName](elem, type, id);\n  });\n}, \"insertMarkers\");\nvar extension = /* @__PURE__ */__name((elem, type, id) => {\n  log.trace(\"Making markers for \", id);\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-extensionStart\").attr(\"class\", \"marker extension \" + type).attr(\"refX\", 18).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,7 L18,13 V 1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-extensionEnd\").attr(\"class\", \"marker extension \" + type).attr(\"refX\", 1).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,1 V 13 L18,7 Z\");\n}, \"extension\");\nvar composition = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-compositionStart\").attr(\"class\", \"marker composition \" + type).attr(\"refX\", 18).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-compositionEnd\").attr(\"class\", \"marker composition \" + type).attr(\"refX\", 1).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n}, \"composition\");\nvar aggregation = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-aggregationStart\").attr(\"class\", \"marker aggregation \" + type).attr(\"refX\", 18).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-aggregationEnd\").attr(\"class\", \"marker aggregation \" + type).attr(\"refX\", 1).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n}, \"aggregation\");\nvar dependency = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-dependencyStart\").attr(\"class\", \"marker dependency \" + type).attr(\"refX\", 6).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 5,7 L9,13 L1,7 L9,1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-dependencyEnd\").attr(\"class\", \"marker dependency \" + type).attr(\"refX\", 13).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L14,7 L9,1 Z\");\n}, \"dependency\");\nvar lollipop = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-lollipopStart\").attr(\"class\", \"marker lollipop \" + type).attr(\"refX\", 13).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"circle\").attr(\"stroke\", \"black\").attr(\"fill\", \"transparent\").attr(\"cx\", 7).attr(\"cy\", 7).attr(\"r\", 6);\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-lollipopEnd\").attr(\"class\", \"marker lollipop \" + type).attr(\"refX\", 1).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"circle\").attr(\"stroke\", \"black\").attr(\"fill\", \"transparent\").attr(\"cx\", 7).attr(\"cy\", 7).attr(\"r\", 6);\n}, \"lollipop\");\nvar point = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-pointEnd\").attr(\"class\", \"marker \" + type).attr(\"viewBox\", \"0 0 10 10\").attr(\"refX\", 5).attr(\"refY\", 5).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 8).attr(\"markerHeight\", 8).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 0 0 L 10 5 L 0 10 z\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 1).style(\"stroke-dasharray\", \"1,0\");\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-pointStart\").attr(\"class\", \"marker \" + type).attr(\"viewBox\", \"0 0 10 10\").attr(\"refX\", 4.5).attr(\"refY\", 5).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 8).attr(\"markerHeight\", 8).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 0 5 L 10 10 L 10 0 z\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 1).style(\"stroke-dasharray\", \"1,0\");\n}, \"point\");\nvar circle = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-circleEnd\").attr(\"class\", \"marker \" + type).attr(\"viewBox\", \"0 0 10 10\").attr(\"refX\", 11).attr(\"refY\", 5).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 11).attr(\"markerHeight\", 11).attr(\"orient\", \"auto\").append(\"circle\").attr(\"cx\", \"5\").attr(\"cy\", \"5\").attr(\"r\", \"5\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 1).style(\"stroke-dasharray\", \"1,0\");\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-circleStart\").attr(\"class\", \"marker \" + type).attr(\"viewBox\", \"0 0 10 10\").attr(\"refX\", -1).attr(\"refY\", 5).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 11).attr(\"markerHeight\", 11).attr(\"orient\", \"auto\").append(\"circle\").attr(\"cx\", \"5\").attr(\"cy\", \"5\").attr(\"r\", \"5\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 1).style(\"stroke-dasharray\", \"1,0\");\n}, \"circle\");\nvar cross = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-crossEnd\").attr(\"class\", \"marker cross \" + type).attr(\"viewBox\", \"0 0 11 11\").attr(\"refX\", 12).attr(\"refY\", 5.2).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 11).attr(\"markerHeight\", 11).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,1 l 9,9 M 10,1 l -9,9\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 2).style(\"stroke-dasharray\", \"1,0\");\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-crossStart\").attr(\"class\", \"marker cross \" + type).attr(\"viewBox\", \"0 0 11 11\").attr(\"refX\", -1).attr(\"refY\", 5.2).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 11).attr(\"markerHeight\", 11).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,1 l 9,9 M 10,1 l -9,9\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 2).style(\"stroke-dasharray\", \"1,0\");\n}, \"cross\");\nvar barb = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-barbEnd\").attr(\"refX\", 19).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 14).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 19,7 L9,13 L14,7 L9,1 Z\");\n}, \"barb\");\nvar only_one = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-onlyOneStart\").attr(\"class\", \"marker onlyOne \" + type).attr(\"refX\", 0).attr(\"refY\", 9).attr(\"markerWidth\", 18).attr(\"markerHeight\", 18).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M9,0 L9,18 M15,0 L15,18\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-onlyOneEnd\").attr(\"class\", \"marker onlyOne \" + type).attr(\"refX\", 18).attr(\"refY\", 9).attr(\"markerWidth\", 18).attr(\"markerHeight\", 18).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M3,0 L3,18 M9,0 L9,18\");\n}, \"only_one\");\nvar zero_or_one = /* @__PURE__ */__name((elem, type, id) => {\n  const startMarker = elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-zeroOrOneStart\").attr(\"class\", \"marker zeroOrOne \" + type).attr(\"refX\", 0).attr(\"refY\", 9).attr(\"markerWidth\", 30).attr(\"markerHeight\", 18).attr(\"orient\", \"auto\");\n  startMarker.append(\"circle\").attr(\"fill\", \"white\").attr(\"cx\", 21).attr(\"cy\", 9).attr(\"r\", 6);\n  startMarker.append(\"path\").attr(\"d\", \"M9,0 L9,18\");\n  const endMarker = elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-zeroOrOneEnd\").attr(\"class\", \"marker zeroOrOne \" + type).attr(\"refX\", 30).attr(\"refY\", 9).attr(\"markerWidth\", 30).attr(\"markerHeight\", 18).attr(\"orient\", \"auto\");\n  endMarker.append(\"circle\").attr(\"fill\", \"white\").attr(\"cx\", 9).attr(\"cy\", 9).attr(\"r\", 6);\n  endMarker.append(\"path\").attr(\"d\", \"M21,0 L21,18\");\n}, \"zero_or_one\");\nvar one_or_more = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-oneOrMoreStart\").attr(\"class\", \"marker oneOrMore \" + type).attr(\"refX\", 18).attr(\"refY\", 18).attr(\"markerWidth\", 45).attr(\"markerHeight\", 36).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-oneOrMoreEnd\").attr(\"class\", \"marker oneOrMore \" + type).attr(\"refX\", 27).attr(\"refY\", 18).attr(\"markerWidth\", 45).attr(\"markerHeight\", 36).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18\");\n}, \"one_or_more\");\nvar zero_or_more = /* @__PURE__ */__name((elem, type, id) => {\n  const startMarker = elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-zeroOrMoreStart\").attr(\"class\", \"marker zeroOrMore \" + type).attr(\"refX\", 18).attr(\"refY\", 18).attr(\"markerWidth\", 57).attr(\"markerHeight\", 36).attr(\"orient\", \"auto\");\n  startMarker.append(\"circle\").attr(\"fill\", \"white\").attr(\"cx\", 48).attr(\"cy\", 18).attr(\"r\", 6);\n  startMarker.append(\"path\").attr(\"d\", \"M0,18 Q18,0 36,18 Q18,36 0,18\");\n  const endMarker = elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-zeroOrMoreEnd\").attr(\"class\", \"marker zeroOrMore \" + type).attr(\"refX\", 39).attr(\"refY\", 18).attr(\"markerWidth\", 57).attr(\"markerHeight\", 36).attr(\"orient\", \"auto\");\n  endMarker.append(\"circle\").attr(\"fill\", \"white\").attr(\"cx\", 9).attr(\"cy\", 18).attr(\"r\", 6);\n  endMarker.append(\"path\").attr(\"d\", \"M21,18 Q39,0 57,18 Q39,36 21,18\");\n}, \"zero_or_more\");\nvar requirement_arrow = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-requirement_arrowEnd\").attr(\"refX\", 20).attr(\"refY\", 10).attr(\"markerWidth\", 20).attr(\"markerHeight\", 20).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", `M0,0\n      L20,10\n      M20,10\n      L0,20`);\n}, \"requirement_arrow\");\nvar requirement_contains = /* @__PURE__ */__name((elem, type, id) => {\n  const containsNode = elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-requirement_containsStart\").attr(\"refX\", 0).attr(\"refY\", 10).attr(\"markerWidth\", 20).attr(\"markerHeight\", 20).attr(\"orient\", \"auto\").append(\"g\");\n  containsNode.append(\"circle\").attr(\"cx\", 10).attr(\"cy\", 10).attr(\"r\", 9).attr(\"fill\", \"none\");\n  containsNode.append(\"line\").attr(\"x1\", 1).attr(\"x2\", 19).attr(\"y1\", 10).attr(\"y2\", 10);\n  containsNode.append(\"line\").attr(\"y1\", 1).attr(\"y2\", 19).attr(\"x1\", 10).attr(\"x2\", 10);\n}, \"requirement_contains\");\nvar markers = {\n  extension,\n  composition,\n  aggregation,\n  dependency,\n  lollipop,\n  point,\n  circle,\n  cross,\n  barb,\n  only_one,\n  zero_or_one,\n  one_or_more,\n  zero_or_more,\n  requirement_arrow,\n  requirement_contains\n};\nvar markers_default = insertMarkers;\nexport { clear, insertEdgeLabel, positionEdgeLabel, insertEdge, markers_default };","map":{"version":3,"names":["getLineFunctionsWithOffset","createLabel_default","isLabelStyle","getSubGraphTitleMargins","createText","utils_default","__name","evaluate","getConfig2","getConfig","log","curveBasis","curveLinear","curveCardinal","curveBumpX","curveBumpY","curveCatmullRom","curveMonotoneX","curveMonotoneY","curveNatural","curveStep","curveStepAfter","curveStepBefore","line","select","rough","addEdgeMarkers","svgPath","edge","url","id","diagramType","strokeColor","arrowTypeStart","addEdgeMarker","arrowTypeEnd","arrowTypesMap","arrow_cross","type","fill","arrow_point","arrow_barb","arrow_circle","aggregation","extension","composition","dependency","lollipop","only_one","zero_or_one","one_or_more","zero_or_more","requirement_arrow","requirement_contains","position","arrowType","arrowTypeInfo","warn","endMarkerType","suffix","originalMarkerId","trim","colorId","replace","coloredMarkerId","document","getElementById","originalMarker","coloredMarker","cloneNode","paths","querySelectorAll","forEach","path","setAttribute","parentNode","appendChild","attr","edgeLabels","Map","terminalLabels","clear","getLabelStyles","styleArray","styles","reduce","acc","style","insertEdgeLabel","elem","useHtmlLabels","flowchart","htmlLabels","labelElement","label","labelStyle","addSvgBackground","isNode","info","labelType","edgeLabel","insert","node","bbox","getBBox","div","children","dv","getBoundingClientRect","width","height","set","fo","startLabelLeft","startLabelElement","startEdgeLabelLeft","inner","slBox","get","startLeft","setTerminalWidth","startLabelRight","startEdgeLabelRight","startRight","endLabelLeft","endLabelElement","endEdgeLabelLeft","endLeft","endLabelRight","endEdgeLabelRight","endRight","value","length","positionEdgeLabel","debug","updatedPath","originalPath","siteConfig","subGraphTitleTotalMargin","el","x","y","pos","calcLabelPosition","calcTerminalLabelPosition","outsideNode","point2","dx","Math","abs","dy","w","h","intersection","outsidePoint","insidePoint","JSON","stringify","r","Q","R","q","res","_x","_y","cutPathAtIntersect","_points","boundaryNode","points","lastPointOutside","isInside","inter","pointPresent","p","some","e","push","extractCornerPoints","cornerPoints","cornerPointPositions","i","prev","curr","next","findAdjacentPoint","pointA","pointB","distance","xDiff","yDiff","sqrt","ratio","fixCorners","lineData","newLineData","includes","prevPoint","nextPoint","cornerPoint","newPrevPoint","newNextPoint","a","newCornerPoint","insertEdge","clusterDb","startNode","endNode","handDrawnSeed","pointsHasChanged","tail","head","edgeClassStyles","key","cssCompiledStyles","intersect","slice","unshift","start","end","toCluster","fromCluster","reverse","filter","Number","isNaN","curve","lineFunction","strokeClasses","thickness","pattern","linePath","edgeStyles","Array","isArray","find","startsWith","look","rc","svg","Object","assign","svgPathNode","roughness","seed","classes","d","stylesFromClasses","join","animationClass","animate","animation","pathStyle","append","match","arrowMarkerAbsolute","state","window","location","protocol","host","pathname","search","insertMarkers","markerArray","markerName","markers","trace","point","circle","cross","barb","startMarker","endMarker","containsNode","markers_default"],"sources":["C:/Users/ASUS/Desktop/autochat/frontend/node_modules/mermaid/dist/chunks/mermaid.core/chunk-IIMUDSI4.mjs"],"sourcesContent":["import {\n  getLineFunctionsWithOffset\n} from \"./chunk-VV3M67IP.mjs\";\nimport {\n  createLabel_default,\n  isLabelStyle\n} from \"./chunk-HRU6DDCH.mjs\";\nimport {\n  getSubGraphTitleMargins\n} from \"./chunk-K557N5IZ.mjs\";\nimport {\n  createText\n} from \"./chunk-C3MQ5ANM.mjs\";\nimport {\n  utils_default\n} from \"./chunk-O4NI6UNU.mjs\";\nimport {\n  __name,\n  evaluate,\n  getConfig2 as getConfig,\n  log\n} from \"./chunk-YTJNT7DU.mjs\";\n\n// src/rendering-util/rendering-elements/edges.js\nimport {\n  curveBasis,\n  curveLinear,\n  curveCardinal,\n  curveBumpX,\n  curveBumpY,\n  curveCatmullRom,\n  curveMonotoneX,\n  curveMonotoneY,\n  curveNatural,\n  curveStep,\n  curveStepAfter,\n  curveStepBefore,\n  line,\n  select\n} from \"d3\";\nimport rough from \"roughjs\";\n\n// src/rendering-util/rendering-elements/edgeMarker.ts\nvar addEdgeMarkers = /* @__PURE__ */ __name((svgPath, edge, url, id, diagramType, strokeColor) => {\n  if (edge.arrowTypeStart) {\n    addEdgeMarker(svgPath, \"start\", edge.arrowTypeStart, url, id, diagramType, strokeColor);\n  }\n  if (edge.arrowTypeEnd) {\n    addEdgeMarker(svgPath, \"end\", edge.arrowTypeEnd, url, id, diagramType, strokeColor);\n  }\n}, \"addEdgeMarkers\");\nvar arrowTypesMap = {\n  arrow_cross: { type: \"cross\", fill: false },\n  arrow_point: { type: \"point\", fill: true },\n  arrow_barb: { type: \"barb\", fill: true },\n  arrow_circle: { type: \"circle\", fill: false },\n  aggregation: { type: \"aggregation\", fill: false },\n  extension: { type: \"extension\", fill: false },\n  composition: { type: \"composition\", fill: true },\n  dependency: { type: \"dependency\", fill: true },\n  lollipop: { type: \"lollipop\", fill: false },\n  only_one: { type: \"onlyOne\", fill: false },\n  zero_or_one: { type: \"zeroOrOne\", fill: false },\n  one_or_more: { type: \"oneOrMore\", fill: false },\n  zero_or_more: { type: \"zeroOrMore\", fill: false },\n  requirement_arrow: { type: \"requirement_arrow\", fill: false },\n  requirement_contains: { type: \"requirement_contains\", fill: false }\n};\nvar addEdgeMarker = /* @__PURE__ */ __name((svgPath, position, arrowType, url, id, diagramType, strokeColor) => {\n  const arrowTypeInfo = arrowTypesMap[arrowType];\n  if (!arrowTypeInfo) {\n    log.warn(`Unknown arrow type: ${arrowType}`);\n    return;\n  }\n  const endMarkerType = arrowTypeInfo.type;\n  const suffix = position === \"start\" ? \"Start\" : \"End\";\n  const originalMarkerId = `${id}_${diagramType}-${endMarkerType}${suffix}`;\n  if (strokeColor && strokeColor.trim() !== \"\") {\n    const colorId = strokeColor.replace(/[^\\dA-Za-z]/g, \"_\");\n    const coloredMarkerId = `${originalMarkerId}_${colorId}`;\n    if (!document.getElementById(coloredMarkerId)) {\n      const originalMarker = document.getElementById(originalMarkerId);\n      if (originalMarker) {\n        const coloredMarker = originalMarker.cloneNode(true);\n        coloredMarker.id = coloredMarkerId;\n        const paths = coloredMarker.querySelectorAll(\"path, circle, line\");\n        paths.forEach((path) => {\n          path.setAttribute(\"stroke\", strokeColor);\n          if (arrowTypeInfo.fill) {\n            path.setAttribute(\"fill\", strokeColor);\n          }\n        });\n        originalMarker.parentNode?.appendChild(coloredMarker);\n      }\n    }\n    svgPath.attr(`marker-${position}`, `url(${url}#${coloredMarkerId})`);\n  } else {\n    svgPath.attr(`marker-${position}`, `url(${url}#${originalMarkerId})`);\n  }\n}, \"addEdgeMarker\");\n\n// src/rendering-util/rendering-elements/edges.js\nvar edgeLabels = /* @__PURE__ */ new Map();\nvar terminalLabels = /* @__PURE__ */ new Map();\nvar clear = /* @__PURE__ */ __name(() => {\n  edgeLabels.clear();\n  terminalLabels.clear();\n}, \"clear\");\nvar getLabelStyles = /* @__PURE__ */ __name((styleArray) => {\n  let styles = styleArray ? styleArray.reduce((acc, style) => acc + \";\" + style, \"\") : \"\";\n  return styles;\n}, \"getLabelStyles\");\nvar insertEdgeLabel = /* @__PURE__ */ __name(async (elem, edge) => {\n  let useHtmlLabels = evaluate(getConfig().flowchart.htmlLabels);\n  const labelElement = await createText(elem, edge.label, {\n    style: getLabelStyles(edge.labelStyle),\n    useHtmlLabels,\n    addSvgBackground: true,\n    isNode: false\n  });\n  log.info(\"abc82\", edge, edge.labelType);\n  const edgeLabel = elem.insert(\"g\").attr(\"class\", \"edgeLabel\");\n  const label = edgeLabel.insert(\"g\").attr(\"class\", \"label\");\n  label.node().appendChild(labelElement);\n  let bbox = labelElement.getBBox();\n  if (useHtmlLabels) {\n    const div = labelElement.children[0];\n    const dv = select(labelElement);\n    bbox = div.getBoundingClientRect();\n    dv.attr(\"width\", bbox.width);\n    dv.attr(\"height\", bbox.height);\n  }\n  label.attr(\"transform\", \"translate(\" + -bbox.width / 2 + \", \" + -bbox.height / 2 + \")\");\n  edgeLabels.set(edge.id, edgeLabel);\n  edge.width = bbox.width;\n  edge.height = bbox.height;\n  let fo;\n  if (edge.startLabelLeft) {\n    const startLabelElement = await createLabel_default(\n      edge.startLabelLeft,\n      getLabelStyles(edge.labelStyle)\n    );\n    const startEdgeLabelLeft = elem.insert(\"g\").attr(\"class\", \"edgeTerminals\");\n    const inner = startEdgeLabelLeft.insert(\"g\").attr(\"class\", \"inner\");\n    fo = inner.node().appendChild(startLabelElement);\n    const slBox = startLabelElement.getBBox();\n    inner.attr(\"transform\", \"translate(\" + -slBox.width / 2 + \", \" + -slBox.height / 2 + \")\");\n    if (!terminalLabels.get(edge.id)) {\n      terminalLabels.set(edge.id, {});\n    }\n    terminalLabels.get(edge.id).startLeft = startEdgeLabelLeft;\n    setTerminalWidth(fo, edge.startLabelLeft);\n  }\n  if (edge.startLabelRight) {\n    const startLabelElement = await createLabel_default(\n      edge.startLabelRight,\n      getLabelStyles(edge.labelStyle)\n    );\n    const startEdgeLabelRight = elem.insert(\"g\").attr(\"class\", \"edgeTerminals\");\n    const inner = startEdgeLabelRight.insert(\"g\").attr(\"class\", \"inner\");\n    fo = startEdgeLabelRight.node().appendChild(startLabelElement);\n    inner.node().appendChild(startLabelElement);\n    const slBox = startLabelElement.getBBox();\n    inner.attr(\"transform\", \"translate(\" + -slBox.width / 2 + \", \" + -slBox.height / 2 + \")\");\n    if (!terminalLabels.get(edge.id)) {\n      terminalLabels.set(edge.id, {});\n    }\n    terminalLabels.get(edge.id).startRight = startEdgeLabelRight;\n    setTerminalWidth(fo, edge.startLabelRight);\n  }\n  if (edge.endLabelLeft) {\n    const endLabelElement = await createLabel_default(edge.endLabelLeft, getLabelStyles(edge.labelStyle));\n    const endEdgeLabelLeft = elem.insert(\"g\").attr(\"class\", \"edgeTerminals\");\n    const inner = endEdgeLabelLeft.insert(\"g\").attr(\"class\", \"inner\");\n    fo = inner.node().appendChild(endLabelElement);\n    const slBox = endLabelElement.getBBox();\n    inner.attr(\"transform\", \"translate(\" + -slBox.width / 2 + \", \" + -slBox.height / 2 + \")\");\n    endEdgeLabelLeft.node().appendChild(endLabelElement);\n    if (!terminalLabels.get(edge.id)) {\n      terminalLabels.set(edge.id, {});\n    }\n    terminalLabels.get(edge.id).endLeft = endEdgeLabelLeft;\n    setTerminalWidth(fo, edge.endLabelLeft);\n  }\n  if (edge.endLabelRight) {\n    const endLabelElement = await createLabel_default(edge.endLabelRight, getLabelStyles(edge.labelStyle));\n    const endEdgeLabelRight = elem.insert(\"g\").attr(\"class\", \"edgeTerminals\");\n    const inner = endEdgeLabelRight.insert(\"g\").attr(\"class\", \"inner\");\n    fo = inner.node().appendChild(endLabelElement);\n    const slBox = endLabelElement.getBBox();\n    inner.attr(\"transform\", \"translate(\" + -slBox.width / 2 + \", \" + -slBox.height / 2 + \")\");\n    endEdgeLabelRight.node().appendChild(endLabelElement);\n    if (!terminalLabels.get(edge.id)) {\n      terminalLabels.set(edge.id, {});\n    }\n    terminalLabels.get(edge.id).endRight = endEdgeLabelRight;\n    setTerminalWidth(fo, edge.endLabelRight);\n  }\n  return labelElement;\n}, \"insertEdgeLabel\");\nfunction setTerminalWidth(fo, value) {\n  if (getConfig().flowchart.htmlLabels && fo) {\n    fo.style.width = value.length * 9 + \"px\";\n    fo.style.height = \"12px\";\n  }\n}\n__name(setTerminalWidth, \"setTerminalWidth\");\nvar positionEdgeLabel = /* @__PURE__ */ __name((edge, paths) => {\n  log.debug(\"Moving label abc88 \", edge.id, edge.label, edgeLabels.get(edge.id), paths);\n  let path = paths.updatedPath ? paths.updatedPath : paths.originalPath;\n  const siteConfig = getConfig();\n  const { subGraphTitleTotalMargin } = getSubGraphTitleMargins(siteConfig);\n  if (edge.label) {\n    const el = edgeLabels.get(edge.id);\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils_default.calcLabelPosition(path);\n      log.debug(\n        \"Moving label \" + edge.label + \" from (\",\n        x,\n        \",\",\n        y,\n        \") to (\",\n        pos.x,\n        \",\",\n        pos.y,\n        \") abc88\"\n      );\n      if (paths.updatedPath) {\n        x = pos.x;\n        y = pos.y;\n      }\n    }\n    el.attr(\"transform\", `translate(${x}, ${y + subGraphTitleTotalMargin / 2})`);\n  }\n  if (edge.startLabelLeft) {\n    const el = terminalLabels.get(edge.id).startLeft;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils_default.calcTerminalLabelPosition(edge.arrowTypeStart ? 10 : 0, \"start_left\", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr(\"transform\", `translate(${x}, ${y})`);\n  }\n  if (edge.startLabelRight) {\n    const el = terminalLabels.get(edge.id).startRight;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils_default.calcTerminalLabelPosition(\n        edge.arrowTypeStart ? 10 : 0,\n        \"start_right\",\n        path\n      );\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr(\"transform\", `translate(${x}, ${y})`);\n  }\n  if (edge.endLabelLeft) {\n    const el = terminalLabels.get(edge.id).endLeft;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils_default.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, \"end_left\", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr(\"transform\", `translate(${x}, ${y})`);\n  }\n  if (edge.endLabelRight) {\n    const el = terminalLabels.get(edge.id).endRight;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils_default.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, \"end_right\", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr(\"transform\", `translate(${x}, ${y})`);\n  }\n}, \"positionEdgeLabel\");\nvar outsideNode = /* @__PURE__ */ __name((node, point2) => {\n  const x = node.x;\n  const y = node.y;\n  const dx = Math.abs(point2.x - x);\n  const dy = Math.abs(point2.y - y);\n  const w = node.width / 2;\n  const h = node.height / 2;\n  return dx >= w || dy >= h;\n}, \"outsideNode\");\nvar intersection = /* @__PURE__ */ __name((node, outsidePoint, insidePoint) => {\n  log.debug(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(outsidePoint)}\n  insidePoint : ${JSON.stringify(insidePoint)}\n  node        : x:${node.x} y:${node.y} w:${node.width} h:${node.height}`);\n  const x = node.x;\n  const y = node.y;\n  const dx = Math.abs(x - insidePoint.x);\n  const w = node.width / 2;\n  let r = insidePoint.x < outsidePoint.x ? w - dx : w + dx;\n  const h = node.height / 2;\n  const Q = Math.abs(outsidePoint.y - insidePoint.y);\n  const R = Math.abs(outsidePoint.x - insidePoint.x);\n  if (Math.abs(y - outsidePoint.y) * w > Math.abs(x - outsidePoint.x) * h) {\n    let q = insidePoint.y < outsidePoint.y ? outsidePoint.y - h - y : y - h - outsidePoint.y;\n    r = R * q / Q;\n    const res = {\n      x: insidePoint.x < outsidePoint.x ? insidePoint.x + r : insidePoint.x - R + r,\n      y: insidePoint.y < outsidePoint.y ? insidePoint.y + Q - q : insidePoint.y - Q + q\n    };\n    if (r === 0) {\n      res.x = outsidePoint.x;\n      res.y = outsidePoint.y;\n    }\n    if (R === 0) {\n      res.x = outsidePoint.x;\n    }\n    if (Q === 0) {\n      res.y = outsidePoint.y;\n    }\n    log.debug(`abc89 top/bottom calc, Q ${Q}, q ${q}, R ${R}, r ${r}`, res);\n    return res;\n  } else {\n    if (insidePoint.x < outsidePoint.x) {\n      r = outsidePoint.x - w - x;\n    } else {\n      r = x - w - outsidePoint.x;\n    }\n    let q = Q * r / R;\n    let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : insidePoint.x - R + r;\n    let _y = insidePoint.y < outsidePoint.y ? insidePoint.y + q : insidePoint.y - q;\n    log.debug(`sides calc abc89, Q ${Q}, q ${q}, R ${R}, r ${r}`, { _x, _y });\n    if (r === 0) {\n      _x = outsidePoint.x;\n      _y = outsidePoint.y;\n    }\n    if (R === 0) {\n      _x = outsidePoint.x;\n    }\n    if (Q === 0) {\n      _y = outsidePoint.y;\n    }\n    return { x: _x, y: _y };\n  }\n}, \"intersection\");\nvar cutPathAtIntersect = /* @__PURE__ */ __name((_points, boundaryNode) => {\n  log.warn(\"abc88 cutPathAtIntersect\", _points, boundaryNode);\n  let points = [];\n  let lastPointOutside = _points[0];\n  let isInside = false;\n  _points.forEach((point2) => {\n    log.info(\"abc88 checking point\", point2, boundaryNode);\n    if (!outsideNode(boundaryNode, point2) && !isInside) {\n      const inter = intersection(boundaryNode, lastPointOutside, point2);\n      log.debug(\"abc88 inside\", point2, lastPointOutside, inter);\n      log.debug(\"abc88 intersection\", inter, boundaryNode);\n      let pointPresent = false;\n      points.forEach((p) => {\n        pointPresent = pointPresent || p.x === inter.x && p.y === inter.y;\n      });\n      if (!points.some((e) => e.x === inter.x && e.y === inter.y)) {\n        points.push(inter);\n      } else {\n        log.warn(\"abc88 no intersect\", inter, points);\n      }\n      isInside = true;\n    } else {\n      log.warn(\"abc88 outside\", point2, lastPointOutside);\n      lastPointOutside = point2;\n      if (!isInside) {\n        points.push(point2);\n      }\n    }\n  });\n  log.debug(\"returning points\", points);\n  return points;\n}, \"cutPathAtIntersect\");\nfunction extractCornerPoints(points) {\n  const cornerPoints = [];\n  const cornerPointPositions = [];\n  for (let i = 1; i < points.length - 1; i++) {\n    const prev = points[i - 1];\n    const curr = points[i];\n    const next = points[i + 1];\n    if (prev.x === curr.x && curr.y === next.y && Math.abs(curr.x - next.x) > 5 && Math.abs(curr.y - prev.y) > 5) {\n      cornerPoints.push(curr);\n      cornerPointPositions.push(i);\n    } else if (prev.y === curr.y && curr.x === next.x && Math.abs(curr.x - prev.x) > 5 && Math.abs(curr.y - next.y) > 5) {\n      cornerPoints.push(curr);\n      cornerPointPositions.push(i);\n    }\n  }\n  return { cornerPoints, cornerPointPositions };\n}\n__name(extractCornerPoints, \"extractCornerPoints\");\nvar findAdjacentPoint = /* @__PURE__ */ __name(function(pointA, pointB, distance) {\n  const xDiff = pointB.x - pointA.x;\n  const yDiff = pointB.y - pointA.y;\n  const length = Math.sqrt(xDiff * xDiff + yDiff * yDiff);\n  const ratio = distance / length;\n  return { x: pointB.x - ratio * xDiff, y: pointB.y - ratio * yDiff };\n}, \"findAdjacentPoint\");\nvar fixCorners = /* @__PURE__ */ __name(function(lineData) {\n  const { cornerPointPositions } = extractCornerPoints(lineData);\n  const newLineData = [];\n  for (let i = 0; i < lineData.length; i++) {\n    if (cornerPointPositions.includes(i)) {\n      const prevPoint = lineData[i - 1];\n      const nextPoint = lineData[i + 1];\n      const cornerPoint = lineData[i];\n      const newPrevPoint = findAdjacentPoint(prevPoint, cornerPoint, 5);\n      const newNextPoint = findAdjacentPoint(nextPoint, cornerPoint, 5);\n      const xDiff = newNextPoint.x - newPrevPoint.x;\n      const yDiff = newNextPoint.y - newPrevPoint.y;\n      newLineData.push(newPrevPoint);\n      const a = Math.sqrt(2) * 2;\n      let newCornerPoint = { x: cornerPoint.x, y: cornerPoint.y };\n      if (Math.abs(nextPoint.x - prevPoint.x) > 10 && Math.abs(nextPoint.y - prevPoint.y) >= 10) {\n        log.debug(\n          \"Corner point fixing\",\n          Math.abs(nextPoint.x - prevPoint.x),\n          Math.abs(nextPoint.y - prevPoint.y)\n        );\n        const r = 5;\n        if (cornerPoint.x === newPrevPoint.x) {\n          newCornerPoint = {\n            x: xDiff < 0 ? newPrevPoint.x - r + a : newPrevPoint.x + r - a,\n            y: yDiff < 0 ? newPrevPoint.y - a : newPrevPoint.y + a\n          };\n        } else {\n          newCornerPoint = {\n            x: xDiff < 0 ? newPrevPoint.x - a : newPrevPoint.x + a,\n            y: yDiff < 0 ? newPrevPoint.y - r + a : newPrevPoint.y + r - a\n          };\n        }\n      } else {\n        log.debug(\n          \"Corner point skipping fixing\",\n          Math.abs(nextPoint.x - prevPoint.x),\n          Math.abs(nextPoint.y - prevPoint.y)\n        );\n      }\n      newLineData.push(newCornerPoint, newNextPoint);\n    } else {\n      newLineData.push(lineData[i]);\n    }\n  }\n  return newLineData;\n}, \"fixCorners\");\nvar insertEdge = /* @__PURE__ */ __name(function(elem, edge, clusterDb, diagramType, startNode, endNode, id) {\n  const { handDrawnSeed } = getConfig();\n  let points = edge.points;\n  let pointsHasChanged = false;\n  const tail = startNode;\n  var head = endNode;\n  const edgeClassStyles = [];\n  for (const key in edge.cssCompiledStyles) {\n    if (isLabelStyle(key)) {\n      continue;\n    }\n    edgeClassStyles.push(edge.cssCompiledStyles[key]);\n  }\n  if (head.intersect && tail.intersect) {\n    points = points.slice(1, edge.points.length - 1);\n    points.unshift(tail.intersect(points[0]));\n    log.debug(\n      \"Last point APA12\",\n      edge.start,\n      \"-->\",\n      edge.end,\n      points[points.length - 1],\n      head,\n      head.intersect(points[points.length - 1])\n    );\n    points.push(head.intersect(points[points.length - 1]));\n  }\n  if (edge.toCluster) {\n    log.info(\"to cluster abc88\", clusterDb.get(edge.toCluster));\n    points = cutPathAtIntersect(edge.points, clusterDb.get(edge.toCluster).node);\n    pointsHasChanged = true;\n  }\n  if (edge.fromCluster) {\n    log.debug(\n      \"from cluster abc88\",\n      clusterDb.get(edge.fromCluster),\n      JSON.stringify(points, null, 2)\n    );\n    points = cutPathAtIntersect(points.reverse(), clusterDb.get(edge.fromCluster).node).reverse();\n    pointsHasChanged = true;\n  }\n  let lineData = points.filter((p) => !Number.isNaN(p.y));\n  lineData = fixCorners(lineData);\n  let curve = curveBasis;\n  curve = curveLinear;\n  switch (edge.curve) {\n    case \"linear\":\n      curve = curveLinear;\n      break;\n    case \"basis\":\n      curve = curveBasis;\n      break;\n    case \"cardinal\":\n      curve = curveCardinal;\n      break;\n    case \"bumpX\":\n      curve = curveBumpX;\n      break;\n    case \"bumpY\":\n      curve = curveBumpY;\n      break;\n    case \"catmullRom\":\n      curve = curveCatmullRom;\n      break;\n    case \"monotoneX\":\n      curve = curveMonotoneX;\n      break;\n    case \"monotoneY\":\n      curve = curveMonotoneY;\n      break;\n    case \"natural\":\n      curve = curveNatural;\n      break;\n    case \"step\":\n      curve = curveStep;\n      break;\n    case \"stepAfter\":\n      curve = curveStepAfter;\n      break;\n    case \"stepBefore\":\n      curve = curveStepBefore;\n      break;\n    default:\n      curve = curveBasis;\n  }\n  const { x, y } = getLineFunctionsWithOffset(edge);\n  const lineFunction = line().x(x).y(y).curve(curve);\n  let strokeClasses;\n  switch (edge.thickness) {\n    case \"normal\":\n      strokeClasses = \"edge-thickness-normal\";\n      break;\n    case \"thick\":\n      strokeClasses = \"edge-thickness-thick\";\n      break;\n    case \"invisible\":\n      strokeClasses = \"edge-thickness-invisible\";\n      break;\n    default:\n      strokeClasses = \"edge-thickness-normal\";\n  }\n  switch (edge.pattern) {\n    case \"solid\":\n      strokeClasses += \" edge-pattern-solid\";\n      break;\n    case \"dotted\":\n      strokeClasses += \" edge-pattern-dotted\";\n      break;\n    case \"dashed\":\n      strokeClasses += \" edge-pattern-dashed\";\n      break;\n    default:\n      strokeClasses += \" edge-pattern-solid\";\n  }\n  let svgPath;\n  let linePath = lineFunction(lineData);\n  const edgeStyles = Array.isArray(edge.style) ? edge.style : [edge.style];\n  let strokeColor = edgeStyles.find((style) => style?.startsWith(\"stroke:\"));\n  if (edge.look === \"handDrawn\") {\n    const rc = rough.svg(elem);\n    Object.assign([], lineData);\n    const svgPathNode = rc.path(linePath, {\n      roughness: 0.3,\n      seed: handDrawnSeed\n    });\n    strokeClasses += \" transition\";\n    svgPath = select(svgPathNode).select(\"path\").attr(\"id\", edge.id).attr(\"class\", \" \" + strokeClasses + (edge.classes ? \" \" + edge.classes : \"\")).attr(\"style\", edgeStyles ? edgeStyles.reduce((acc, style) => acc + \";\" + style, \"\") : \"\");\n    let d = svgPath.attr(\"d\");\n    svgPath.attr(\"d\", d);\n    elem.node().appendChild(svgPath.node());\n  } else {\n    const stylesFromClasses = edgeClassStyles.join(\";\");\n    const styles = edgeStyles ? edgeStyles.reduce((acc, style) => acc + style + \";\", \"\") : \"\";\n    let animationClass = \"\";\n    if (edge.animate) {\n      animationClass = \" edge-animation-fast\";\n    }\n    if (edge.animation) {\n      animationClass = \" edge-animation-\" + edge.animation;\n    }\n    const pathStyle = stylesFromClasses ? stylesFromClasses + \";\" + styles + \";\" : styles;\n    svgPath = elem.append(\"path\").attr(\"d\", linePath).attr(\"id\", edge.id).attr(\n      \"class\",\n      \" \" + strokeClasses + (edge.classes ? \" \" + edge.classes : \"\") + (animationClass ?? \"\")\n    ).attr(\"style\", pathStyle);\n    strokeColor = pathStyle.match(/stroke:([^;]+)/)?.[1];\n  }\n  let url = \"\";\n  if (getConfig().flowchart.arrowMarkerAbsolute || getConfig().state.arrowMarkerAbsolute) {\n    url = window.location.protocol + \"//\" + window.location.host + window.location.pathname + window.location.search;\n    url = url.replace(/\\(/g, \"\\\\(\").replace(/\\)/g, \"\\\\)\");\n  }\n  log.info(\"arrowTypeStart\", edge.arrowTypeStart);\n  log.info(\"arrowTypeEnd\", edge.arrowTypeEnd);\n  addEdgeMarkers(svgPath, edge, url, id, diagramType, strokeColor);\n  let paths = {};\n  if (pointsHasChanged) {\n    paths.updatedPath = points;\n  }\n  paths.originalPath = edge.points;\n  return paths;\n}, \"insertEdge\");\n\n// src/rendering-util/rendering-elements/markers.js\nvar insertMarkers = /* @__PURE__ */ __name((elem, markerArray, type, id) => {\n  markerArray.forEach((markerName) => {\n    markers[markerName](elem, type, id);\n  });\n}, \"insertMarkers\");\nvar extension = /* @__PURE__ */ __name((elem, type, id) => {\n  log.trace(\"Making markers for \", id);\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-extensionStart\").attr(\"class\", \"marker extension \" + type).attr(\"refX\", 18).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,7 L18,13 V 1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-extensionEnd\").attr(\"class\", \"marker extension \" + type).attr(\"refX\", 1).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,1 V 13 L18,7 Z\");\n}, \"extension\");\nvar composition = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-compositionStart\").attr(\"class\", \"marker composition \" + type).attr(\"refX\", 18).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-compositionEnd\").attr(\"class\", \"marker composition \" + type).attr(\"refX\", 1).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n}, \"composition\");\nvar aggregation = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-aggregationStart\").attr(\"class\", \"marker aggregation \" + type).attr(\"refX\", 18).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-aggregationEnd\").attr(\"class\", \"marker aggregation \" + type).attr(\"refX\", 1).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n}, \"aggregation\");\nvar dependency = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-dependencyStart\").attr(\"class\", \"marker dependency \" + type).attr(\"refX\", 6).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 5,7 L9,13 L1,7 L9,1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-dependencyEnd\").attr(\"class\", \"marker dependency \" + type).attr(\"refX\", 13).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L14,7 L9,1 Z\");\n}, \"dependency\");\nvar lollipop = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-lollipopStart\").attr(\"class\", \"marker lollipop \" + type).attr(\"refX\", 13).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"circle\").attr(\"stroke\", \"black\").attr(\"fill\", \"transparent\").attr(\"cx\", 7).attr(\"cy\", 7).attr(\"r\", 6);\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-lollipopEnd\").attr(\"class\", \"marker lollipop \" + type).attr(\"refX\", 1).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"circle\").attr(\"stroke\", \"black\").attr(\"fill\", \"transparent\").attr(\"cx\", 7).attr(\"cy\", 7).attr(\"r\", 6);\n}, \"lollipop\");\nvar point = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-pointEnd\").attr(\"class\", \"marker \" + type).attr(\"viewBox\", \"0 0 10 10\").attr(\"refX\", 5).attr(\"refY\", 5).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 8).attr(\"markerHeight\", 8).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 0 0 L 10 5 L 0 10 z\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 1).style(\"stroke-dasharray\", \"1,0\");\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-pointStart\").attr(\"class\", \"marker \" + type).attr(\"viewBox\", \"0 0 10 10\").attr(\"refX\", 4.5).attr(\"refY\", 5).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 8).attr(\"markerHeight\", 8).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 0 5 L 10 10 L 10 0 z\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 1).style(\"stroke-dasharray\", \"1,0\");\n}, \"point\");\nvar circle = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-circleEnd\").attr(\"class\", \"marker \" + type).attr(\"viewBox\", \"0 0 10 10\").attr(\"refX\", 11).attr(\"refY\", 5).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 11).attr(\"markerHeight\", 11).attr(\"orient\", \"auto\").append(\"circle\").attr(\"cx\", \"5\").attr(\"cy\", \"5\").attr(\"r\", \"5\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 1).style(\"stroke-dasharray\", \"1,0\");\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-circleStart\").attr(\"class\", \"marker \" + type).attr(\"viewBox\", \"0 0 10 10\").attr(\"refX\", -1).attr(\"refY\", 5).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 11).attr(\"markerHeight\", 11).attr(\"orient\", \"auto\").append(\"circle\").attr(\"cx\", \"5\").attr(\"cy\", \"5\").attr(\"r\", \"5\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 1).style(\"stroke-dasharray\", \"1,0\");\n}, \"circle\");\nvar cross = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-crossEnd\").attr(\"class\", \"marker cross \" + type).attr(\"viewBox\", \"0 0 11 11\").attr(\"refX\", 12).attr(\"refY\", 5.2).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 11).attr(\"markerHeight\", 11).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,1 l 9,9 M 10,1 l -9,9\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 2).style(\"stroke-dasharray\", \"1,0\");\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-crossStart\").attr(\"class\", \"marker cross \" + type).attr(\"viewBox\", \"0 0 11 11\").attr(\"refX\", -1).attr(\"refY\", 5.2).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 11).attr(\"markerHeight\", 11).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,1 l 9,9 M 10,1 l -9,9\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 2).style(\"stroke-dasharray\", \"1,0\");\n}, \"cross\");\nvar barb = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-barbEnd\").attr(\"refX\", 19).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 14).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 19,7 L9,13 L14,7 L9,1 Z\");\n}, \"barb\");\nvar only_one = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-onlyOneStart\").attr(\"class\", \"marker onlyOne \" + type).attr(\"refX\", 0).attr(\"refY\", 9).attr(\"markerWidth\", 18).attr(\"markerHeight\", 18).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M9,0 L9,18 M15,0 L15,18\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-onlyOneEnd\").attr(\"class\", \"marker onlyOne \" + type).attr(\"refX\", 18).attr(\"refY\", 9).attr(\"markerWidth\", 18).attr(\"markerHeight\", 18).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M3,0 L3,18 M9,0 L9,18\");\n}, \"only_one\");\nvar zero_or_one = /* @__PURE__ */ __name((elem, type, id) => {\n  const startMarker = elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-zeroOrOneStart\").attr(\"class\", \"marker zeroOrOne \" + type).attr(\"refX\", 0).attr(\"refY\", 9).attr(\"markerWidth\", 30).attr(\"markerHeight\", 18).attr(\"orient\", \"auto\");\n  startMarker.append(\"circle\").attr(\"fill\", \"white\").attr(\"cx\", 21).attr(\"cy\", 9).attr(\"r\", 6);\n  startMarker.append(\"path\").attr(\"d\", \"M9,0 L9,18\");\n  const endMarker = elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-zeroOrOneEnd\").attr(\"class\", \"marker zeroOrOne \" + type).attr(\"refX\", 30).attr(\"refY\", 9).attr(\"markerWidth\", 30).attr(\"markerHeight\", 18).attr(\"orient\", \"auto\");\n  endMarker.append(\"circle\").attr(\"fill\", \"white\").attr(\"cx\", 9).attr(\"cy\", 9).attr(\"r\", 6);\n  endMarker.append(\"path\").attr(\"d\", \"M21,0 L21,18\");\n}, \"zero_or_one\");\nvar one_or_more = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-oneOrMoreStart\").attr(\"class\", \"marker oneOrMore \" + type).attr(\"refX\", 18).attr(\"refY\", 18).attr(\"markerWidth\", 45).attr(\"markerHeight\", 36).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-oneOrMoreEnd\").attr(\"class\", \"marker oneOrMore \" + type).attr(\"refX\", 27).attr(\"refY\", 18).attr(\"markerWidth\", 45).attr(\"markerHeight\", 36).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18\");\n}, \"one_or_more\");\nvar zero_or_more = /* @__PURE__ */ __name((elem, type, id) => {\n  const startMarker = elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-zeroOrMoreStart\").attr(\"class\", \"marker zeroOrMore \" + type).attr(\"refX\", 18).attr(\"refY\", 18).attr(\"markerWidth\", 57).attr(\"markerHeight\", 36).attr(\"orient\", \"auto\");\n  startMarker.append(\"circle\").attr(\"fill\", \"white\").attr(\"cx\", 48).attr(\"cy\", 18).attr(\"r\", 6);\n  startMarker.append(\"path\").attr(\"d\", \"M0,18 Q18,0 36,18 Q18,36 0,18\");\n  const endMarker = elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-zeroOrMoreEnd\").attr(\"class\", \"marker zeroOrMore \" + type).attr(\"refX\", 39).attr(\"refY\", 18).attr(\"markerWidth\", 57).attr(\"markerHeight\", 36).attr(\"orient\", \"auto\");\n  endMarker.append(\"circle\").attr(\"fill\", \"white\").attr(\"cx\", 9).attr(\"cy\", 18).attr(\"r\", 6);\n  endMarker.append(\"path\").attr(\"d\", \"M21,18 Q39,0 57,18 Q39,36 21,18\");\n}, \"zero_or_more\");\nvar requirement_arrow = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-requirement_arrowEnd\").attr(\"refX\", 20).attr(\"refY\", 10).attr(\"markerWidth\", 20).attr(\"markerHeight\", 20).attr(\"orient\", \"auto\").append(\"path\").attr(\n    \"d\",\n    `M0,0\n      L20,10\n      M20,10\n      L0,20`\n  );\n}, \"requirement_arrow\");\nvar requirement_contains = /* @__PURE__ */ __name((elem, type, id) => {\n  const containsNode = elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-requirement_containsStart\").attr(\"refX\", 0).attr(\"refY\", 10).attr(\"markerWidth\", 20).attr(\"markerHeight\", 20).attr(\"orient\", \"auto\").append(\"g\");\n  containsNode.append(\"circle\").attr(\"cx\", 10).attr(\"cy\", 10).attr(\"r\", 9).attr(\"fill\", \"none\");\n  containsNode.append(\"line\").attr(\"x1\", 1).attr(\"x2\", 19).attr(\"y1\", 10).attr(\"y2\", 10);\n  containsNode.append(\"line\").attr(\"y1\", 1).attr(\"y2\", 19).attr(\"x1\", 10).attr(\"x2\", 10);\n}, \"requirement_contains\");\nvar markers = {\n  extension,\n  composition,\n  aggregation,\n  dependency,\n  lollipop,\n  point,\n  circle,\n  cross,\n  barb,\n  only_one,\n  zero_or_one,\n  one_or_more,\n  zero_or_more,\n  requirement_arrow,\n  requirement_contains\n};\nvar markers_default = insertMarkers;\n\nexport {\n  clear,\n  insertEdgeLabel,\n  positionEdgeLabel,\n  insertEdge,\n  markers_default\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}